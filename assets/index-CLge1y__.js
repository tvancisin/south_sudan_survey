var Jl=Object.defineProperty;var jo=t=>{throw TypeError(t)};var Kl=(t,n,e)=>n in t?Jl(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var Yn=(t,n,e)=>Kl(t,typeof n!="symbol"?n+"":n,e),Mi=(t,n,e)=>n.has(t)||jo("Cannot "+e);var k=(t,n,e)=>(Mi(t,n,"read from private field"),e?e.call(t):n.get(t)),B=(t,n,e)=>n.has(t)?jo("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(t):n.set(t,e),O=(t,n,e,r)=>(Mi(t,n,"write to private field"),r?r.call(t,e):n.set(t,e),e),st=(t,n,e)=>(Mi(t,n,"access private method"),e);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();const uu=!1;var ci=Array.isArray,Ql=Array.prototype.indexOf,Eo=Array.from,qi=Object.defineProperty,me=Object.getOwnPropertyDescriptor,lu=Object.getOwnPropertyDescriptors,jl=Object.prototype,ts=Array.prototype,bo=Object.getPrototypeOf,ta=Object.isExtensible;const ns=()=>{};function es(t){return t()}function Yi(t){for(var n=0;n<t.length;n++)t[n]()}function su(){var t,n,e=new Promise((r,i)=>{t=r,n=i});return{promise:e,resolve:t,reject:n}}const At=2,Mo=4,hi=8,re=16,wn=32,ie=64,ko=128,Vt=256,qr=512,ct=1024,Ot=2048,xn=4096,tn=8192,oe=16384,No=32768,vi=65536,na=1<<17,rs=1<<18,De=1<<19,fu=1<<20,Hi=1<<21,pi=1<<22,Gn=1<<23,In=Symbol("$state"),is=Symbol("legacy props"),os=Symbol(""),Ke=new class extends Error{constructor(){super(...arguments);Yn(this,"name","StaleReactionError");Yn(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function as(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function us(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ls(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ss(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function fs(t){throw new Error("https://svelte.dev/e/effect_orphan")}function cs(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function hs(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function vs(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ps(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function ds(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const di=1,_i=2,cu=4,_s=8,gs=16,ms=2,ys=4,ws=8,xs=1,Ss=2,ft=Symbol(),Es="http://www.w3.org/1999/xhtml";function bs(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function Ms(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let ks=!1;function hu(t){return t===this.v}function Ns(t,n){return t!=t?n==n:t!==n||t!==null&&typeof t=="object"||typeof t=="function"}function vu(t){return!Ns(t,this.v)}let Le=!1,As=!1;function Cs(){Le=!0}let nt=null;function Ae(t){nt=t}function ae(t,n=!1,e){nt={p:nt,c:null,e:null,s:t,x:null,l:Le&&!n?{s:null,u:null,$:[]}:null}}function ue(t){var n=nt,e=n.e;if(e!==null){n.e=null;for(var r of e)ku(r)}return nt=n.p,{}}function hr(){return!Le||nt!==null&&nt.l===null}let ve=[];function Ps(){var t=ve;ve=[],Yi(t)}function vr(t){if(ve.length===0){var n=ve;queueMicrotask(()=>{n===ve&&Ps()})}ve.push(t)}const Ts=new WeakMap;function pu(t){var n=Y;if(n===null)return F.f|=Gn,t;if(n.f&No)Ce(t,n);else{if(!(n.f&ko))throw!n.parent&&t instanceof Error&&du(t),t;n.b.error(t)}}function Ce(t,n){for(;n!==null;){if(n.f&ko)try{n.b.error(t);return}catch(e){t=e}n=n.parent}throw t instanceof Error&&du(t),t}function du(t){const n=Ts.get(t);n&&(qi(t,"message",{value:n.message}),qi(t,"stack",{value:n.stack}))}const yr=new Set;let at=null,zi=new Set,Mn=[],Ao=null,Vi=!1;var Se,Ee,An,lr,be,Me,zn,ke,sr,fr,Xt,Bi,Pr,Ui;const ge=class ge{constructor(){B(this,Xt);Yn(this,"current",new Map);B(this,Se,new Map);B(this,Ee,new Set);B(this,An,0);B(this,lr,null);B(this,be,[]);B(this,Me,[]);B(this,zn,[]);B(this,ke,[]);B(this,sr,[]);B(this,fr,[]);Yn(this,"skipped_effects",new Set)}process(n){var o;Mn=[];var e=ge.apply(this);for(const a of n)st(this,Xt,Bi).call(this,a);if(k(this,An)===0){st(this,Xt,Ui).call(this);var r=k(this,Me),i=k(this,zn);O(this,Me,[]),O(this,zn,[]),O(this,ke,[]),at=null,ea(r),ea(i),(o=k(this,lr))==null||o.resolve()}else st(this,Xt,Pr).call(this,k(this,Me)),st(this,Xt,Pr).call(this,k(this,zn)),st(this,Xt,Pr).call(this,k(this,ke));e();for(const a of k(this,be))Pe(a);O(this,be,[])}capture(n,e){k(this,Se).has(n)||k(this,Se).set(n,e),this.current.set(n,n.v)}activate(){at=this}deactivate(){at=null;for(const n of zi)if(zi.delete(n),n(),at!==null)break}flush(){if(Mn.length>0){if(this.activate(),Rs(),at!==null&&at!==this)return}else k(this,An)===0&&st(this,Xt,Ui).call(this);this.deactivate()}increment(){O(this,An,k(this,An)+1)}decrement(){if(O(this,An,k(this,An)-1),k(this,An)===0){for(const n of k(this,sr))ht(n,Ot),Zn(n);for(const n of k(this,fr))ht(n,xn),Zn(n);this.flush()}else this.deactivate()}add_callback(n){k(this,Ee).add(n)}settled(){return(k(this,lr)??O(this,lr,su())).promise}static ensure(){if(at===null){const n=at=new ge;yr.add(at),ge.enqueue(()=>{at===n&&n.flush()})}return at}static enqueue(n){vr(n)}static apply(n){return ns}};Se=new WeakMap,Ee=new WeakMap,An=new WeakMap,lr=new WeakMap,be=new WeakMap,Me=new WeakMap,zn=new WeakMap,ke=new WeakMap,sr=new WeakMap,fr=new WeakMap,Xt=new WeakSet,Bi=function(n){var l;n.f^=ct;for(var e=n.first;e!==null;){var r=e.f,i=(r&(wn|ie))!==0,o=i&&(r&ct)!==0,a=o||(r&tn)!==0||this.skipped_effects.has(e);if(!a&&e.fn!==null){i?e.f^=ct:r&Mo?k(this,zn).push(e):r&ct||(r&pi&&((l=e.b)!=null&&l.is_pending())?k(this,be).push(e):_r(e)&&(e.f&re&&k(this,ke).push(e),Pe(e)));var u=e.first;if(u!==null){e=u;continue}}var s=e.parent;for(e=e.next;e===null&&s!==null;)e=s.next,s=s.parent}},Pr=function(n){for(const e of n)(e.f&Ot?k(this,sr):k(this,fr)).push(e),ht(e,ct);n.length=0},Ui=function(){var n;for(const e of k(this,Ee))e();if(k(this,Ee).clear(),yr.size>1){k(this,Se).clear();let e=!0;for(const r of yr){if(r===this){e=!1;continue}for(const[i,o]of this.current){if(r.current.has(i))if(e)r.current.set(i,o);else continue;_u(i)}if(Mn.length>0){at=r;const i=ge.apply(r);for(const o of Mn)st(n=r,Xt,Bi).call(n,o);Mn=[],i()}}at=null}yr.delete(this)};let On=ge;function Rs(){var t=we;Vi=!0;try{var n=0;for(aa(!0);Mn.length>0;){var e=On.ensure();if(n++>1e3){var r,i;$s()}e.process(Mn),Dn.clear()}}finally{Vi=!1,aa(t),Ao=null}}function $s(){try{cs()}catch(t){Ce(t,Ao)}}let _n=null;function ea(t){var n=t.length;if(n!==0){for(var e=0;e<n;){var r=t[e++];if(!(r.f&(oe|tn))&&_r(r)&&(_n=[],Pe(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?Tu(r):r.fn=null),(_n==null?void 0:_n.length)>0)){Dn.clear();for(const i of _n)Pe(i);_n=[]}}_n=null}}function _u(t){if(t.reactions!==null)for(const n of t.reactions){const e=n.f;e&At?_u(n):e&(pi|re)&&(ht(n,Ot),Zn(n))}}function Zn(t){for(var n=Ao=t;n.parent!==null;){n=n.parent;var e=n.f;if(Vi&&n===Y&&e&re)return;if(e&(ie|wn)){if(!(e&ct))return;n.f^=ct}}Mn.push(n)}function Is(t){let n=0,e=Jn(0),r;return()=>{Ks()&&(d(e),$o(()=>(n===0&&(r=C(()=>t(()=>Qe(e)))),n+=1,()=>{vr(()=>{n-=1,n===0&&(r==null||r(),r=void 0,Qe(e))})})))}}var Os=vi|De|ko;function Ds(t,n,e){new Ls(t,n,e)}var Zt,Ft,So,on,Vn,an,qt,St,un,Cn,Bn,Pn,Un,Tn,ui,li,yt,Fs,qs,Tr,Rr,Gi;class Ls{constructor(n,e,r){B(this,yt);Yn(this,"parent");B(this,Zt,!1);B(this,Ft);B(this,So,null);B(this,on);B(this,Vn);B(this,an);B(this,qt,null);B(this,St,null);B(this,un,null);B(this,Cn,null);B(this,Bn,0);B(this,Pn,0);B(this,Un,!1);B(this,Tn,null);B(this,ui,()=>{k(this,Tn)&&Kn(k(this,Tn),k(this,Bn))});B(this,li,Is(()=>(O(this,Tn,Jn(k(this,Bn))),()=>{O(this,Tn,null)})));O(this,Ft,n),O(this,on,e),O(this,Vn,r),this.parent=Y.b,O(this,Zt,!!k(this,on).pending),O(this,an,Io(()=>{Y.b=this;{try{O(this,qt,Jt(()=>r(k(this,Ft))))}catch(i){this.error(i)}k(this,Pn)>0?st(this,yt,Rr).call(this):O(this,Zt,!1)}},Os))}is_pending(){return k(this,Zt)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!k(this,on).pending}update_pending_count(n){st(this,yt,Gi).call(this,n),O(this,Bn,k(this,Bn)+n),zi.add(k(this,ui))}get_effect_pending(){return k(this,li).call(this),d(k(this,Tn))}error(n){var e=k(this,on).onerror;let r=k(this,on).failed;if(k(this,Un)||!e&&!r)throw n;k(this,qt)&&(Bt(k(this,qt)),O(this,qt,null)),k(this,St)&&(Bt(k(this,St)),O(this,St,null)),k(this,un)&&(Bt(k(this,un)),O(this,un,null));var i=!1,o=!1;const a=()=>{if(i){Ms();return}i=!0,o&&ds(),On.ensure(),O(this,Bn,0),k(this,un)!==null&&ye(k(this,un),()=>{O(this,un,null)}),O(this,Zt,this.has_pending_snippet()),O(this,qt,st(this,yt,Tr).call(this,()=>(O(this,Un,!1),Jt(()=>k(this,Vn).call(this,k(this,Ft)))))),k(this,Pn)>0?st(this,yt,Rr).call(this):O(this,Zt,!1)};var u=F;try{Mt(null),o=!0,e==null||e(n,a),o=!1}catch(s){Ce(s,k(this,an)&&k(this,an).parent)}finally{Mt(u)}r&&vr(()=>{O(this,un,st(this,yt,Tr).call(this,()=>{O(this,Un,!0);try{return Jt(()=>{r(k(this,Ft),()=>n,()=>a)})}catch(s){return Ce(s,k(this,an).parent),null}finally{O(this,Un,!1)}}))})}}Zt=new WeakMap,Ft=new WeakMap,So=new WeakMap,on=new WeakMap,Vn=new WeakMap,an=new WeakMap,qt=new WeakMap,St=new WeakMap,un=new WeakMap,Cn=new WeakMap,Bn=new WeakMap,Pn=new WeakMap,Un=new WeakMap,Tn=new WeakMap,ui=new WeakMap,li=new WeakMap,yt=new WeakSet,Fs=function(){try{O(this,qt,Jt(()=>k(this,Vn).call(this,k(this,Ft))))}catch(n){this.error(n)}O(this,Zt,!1)},qs=function(){const n=k(this,on).pending;n&&(O(this,St,Jt(()=>n(k(this,Ft)))),On.enqueue(()=>{O(this,qt,st(this,yt,Tr).call(this,()=>(On.ensure(),Jt(()=>k(this,Vn).call(this,k(this,Ft)))))),k(this,Pn)>0?st(this,yt,Rr).call(this):(ye(k(this,St),()=>{O(this,St,null)}),O(this,Zt,!1))}))},Tr=function(n){var e=Y,r=F,i=nt;cn(k(this,an)),Mt(k(this,an)),Ae(k(this,an).ctx);try{return n()}catch(o){return pu(o),null}finally{cn(e),Mt(r),Ae(i)}},Rr=function(){const n=k(this,on).pending;k(this,qt)!==null&&(O(this,Cn,document.createDocumentFragment()),Ys(k(this,qt),k(this,Cn))),k(this,St)===null&&O(this,St,Jt(()=>n(k(this,Ft))))},Gi=function(n){var e;if(!this.has_pending_snippet()){this.parent&&st(e=this.parent,yt,Gi).call(e,n);return}O(this,Pn,k(this,Pn)+n),k(this,Pn)===0&&(O(this,Zt,!1),k(this,St)&&ye(k(this,St),()=>{O(this,St,null)}),k(this,Cn)&&(k(this,Ft).before(k(this,Cn)),O(this,Cn,null)))};function Ys(t,n){for(var e=t.nodes_start,r=t.nodes_end;e!==null;){var i=e===r?null:dr(e);n.append(e),e=i}}function Hs(t,n,e){const r=hr()?Co:Po;if(n.length===0){e(t.map(r));return}var i=at,o=Y,a=zs();Promise.all(n.map(u=>Vs(u))).then(u=>{i==null||i.activate(),a();try{e([...t.map(r),...u])}catch(s){o.f&oe||Ce(s,o)}i==null||i.deactivate(),gu()}).catch(u=>{Ce(u,o)})}function zs(){var t=Y,n=F,e=nt,r=at;return function(){cn(t),Mt(n),Ae(e),r==null||r.activate()}}function gu(){cn(null),Mt(null),Ae(null)}function Co(t){var n=At|Ot,e=F!==null&&F.f&At?F:null;return Y===null||e!==null&&e.f&Vt?n|=Vt:Y.f|=De,{ctx:nt,deps:null,effects:null,equals:hu,f:n,fn:t,reactions:null,rv:0,v:ft,wv:0,parent:e??Y,ac:null}}function Vs(t,n){let e=Y;e===null&&us();var r=e.b,i=void 0,o=Jn(ft),a=!F,u=new Map;return tf(()=>{var h;var s=su();i=s.promise;try{Promise.resolve(t()).then(s.resolve,s.reject)}catch(v){s.reject(v)}var l=at,c=r.is_pending();a&&(r.update_pending_count(1),c||(l.increment(),(h=u.get(l))==null||h.reject(Ke),u.set(l,s)));const f=(v,p=void 0)=>{c||l.activate(),p?p!==Ke&&(o.f|=Gn,Kn(o,p)):(o.f&Gn&&(o.f^=Gn),Kn(o,v)),a&&(r.update_pending_count(-1),c||l.decrement()),gu()};s.promise.then(f,v=>f(null,v||"unknown"))}),Ro(()=>{for(const s of u.values())s.reject(Ke)}),new Promise(s=>{function l(c){function f(){c===i?s(o):l(i)}c.then(f,f)}l(i)})}function Po(t){const n=Co(t);return n.equals=vu,n}function mu(t){var n=t.effects;if(n!==null){t.effects=null;for(var e=0;e<n.length;e+=1)Bt(n[e])}}function Bs(t){for(var n=t.parent;n!==null;){if(!(n.f&At))return n;n=n.parent}return null}function To(t){var n,e=Y;cn(Bs(t));try{mu(t),n=Lu(t)}finally{cn(e)}return n}function yu(t){var n=To(t);if(t.equals(n)||(t.v=n,t.wv=Ou()),!le){var e=($n||t.f&Vt)&&t.deps!==null?xn:ct;ht(t,e)}}const Dn=new Map;function Jn(t,n){var e={f:0,v:t,reactions:null,equals:hu,rv:0,wv:0};return e}function bn(t,n){const e=Jn(t);return af(e),e}function dt(t,n=!1,e=!0){var i;const r=Jn(t);return n||(r.equals=vu),Le&&e&&nt!==null&&nt.l!==null&&((i=nt.l).s??(i.s=[])).push(r),r}function U(t,n,e=!1){F!==null&&(!Qt||F.f&na)&&hr()&&F.f&(At|re|pi|na)&&!(mt!=null&&mt.includes(t))&&ps();let r=e?pe(n):n;return Kn(t,r)}function Kn(t,n){if(!t.equals(n)){var e=t.v;le?Dn.set(t,n):Dn.set(t,e),t.v=n;var r=On.ensure();r.capture(t,e),t.f&At&&(t.f&Ot&&To(t),ht(t,t.f&Vt?xn:ct)),t.wv=Ou(),wu(t,Ot),hr()&&Y!==null&&Y.f&ct&&!(Y.f&(wn|ie))&&(Lt===null?uf([t]):Lt.push(t))}return n}function Qe(t){U(t,t.v+1)}function wu(t,n){var e=t.reactions;if(e!==null)for(var r=hr(),i=e.length,o=0;o<i;o++){var a=e[o],u=a.f;if(!(!r&&a===Y)){var s=(u&Ot)===0;s&&ht(a,n),u&At?wu(a,xn):s&&(u&re&&_n!==null&&_n.push(a),Zn(a))}}}function pe(t){if(typeof t!="object"||t===null||In in t)return t;const n=bo(t);if(n!==jl&&n!==ts)return t;var e=new Map,r=ci(t),i=bn(0),o=Xn,a=u=>{if(Xn===o)return u();var s=F,l=Xn;Mt(null),la(o);var c=u();return Mt(s),la(l),c};return r&&e.set("length",bn(t.length)),new Proxy(t,{defineProperty(u,s,l){(!("value"in l)||l.configurable===!1||l.enumerable===!1||l.writable===!1)&&hs();var c=e.get(s);return c===void 0?c=a(()=>{var f=bn(l.value);return e.set(s,f),f}):U(c,l.value,!0),!0},deleteProperty(u,s){var l=e.get(s);if(l===void 0){if(s in u){const c=a(()=>bn(ft));e.set(s,c),Qe(i)}}else U(l,ft),Qe(i);return!0},get(u,s,l){var v;if(s===In)return t;var c=e.get(s),f=s in u;if(c===void 0&&(!f||(v=me(u,s))!=null&&v.writable)&&(c=a(()=>{var p=pe(f?u[s]:ft),g=bn(p);return g}),e.set(s,c)),c!==void 0){var h=d(c);return h===ft?void 0:h}return Reflect.get(u,s,l)},getOwnPropertyDescriptor(u,s){var l=Reflect.getOwnPropertyDescriptor(u,s);if(l&&"value"in l){var c=e.get(s);c&&(l.value=d(c))}else if(l===void 0){var f=e.get(s),h=f==null?void 0:f.v;if(f!==void 0&&h!==ft)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return l},has(u,s){var h;if(s===In)return!0;var l=e.get(s),c=l!==void 0&&l.v!==ft||Reflect.has(u,s);if(l!==void 0||Y!==null&&(!c||(h=me(u,s))!=null&&h.writable)){l===void 0&&(l=a(()=>{var v=c?pe(u[s]):ft,p=bn(v);return p}),e.set(s,l));var f=d(l);if(f===ft)return!1}return c},set(u,s,l,c){var m;var f=e.get(s),h=s in u;if(r&&s==="length")for(var v=l;v<f.v;v+=1){var p=e.get(v+"");p!==void 0?U(p,ft):v in u&&(p=a(()=>bn(ft)),e.set(v+"",p))}if(f===void 0)(!h||(m=me(u,s))!=null&&m.writable)&&(f=a(()=>bn(void 0)),U(f,pe(l)),e.set(s,f));else{h=f.v!==ft;var g=a(()=>pe(l));U(f,g)}var _=Reflect.getOwnPropertyDescriptor(u,s);if(_!=null&&_.set&&_.set.call(c,l),!h){if(r&&typeof s=="string"){var y=e.get("length"),w=Number(s);Number.isInteger(w)&&w>=y.v&&U(y,w+1)}Qe(i)}return!0},ownKeys(u){d(i);var s=Reflect.ownKeys(u).filter(f=>{var h=e.get(f);return h===void 0||h.v!==ft});for(var[l,c]of e)c.v!==ft&&!(l in u)&&s.push(l);return s},setPrototypeOf(){vs()}})}function ra(t){try{if(t!==null&&typeof t=="object"&&In in t)return t[In]}catch{}return t}function Us(t,n){return Object.is(ra(t),ra(n))}var ia,xu,Su,Eu;function Gs(){if(ia===void 0){ia=window,xu=/Firefox/.test(navigator.userAgent);var t=Element.prototype,n=Node.prototype,e=Text.prototype;Su=me(n,"firstChild").get,Eu=me(n,"nextSibling").get,ta(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),ta(e)&&(e.__t=void 0)}}function pr(t=""){return document.createTextNode(t)}function kn(t){return Su.call(t)}function dr(t){return Eu.call(t)}function J(t,n){return kn(t)}function bt(t,n=!1){{var e=kn(t);return e instanceof Comment&&e.data===""?dr(e):e}}function W(t,n=1,e=!1){let r=t;for(;n--;)r=dr(r);return r}function Xs(t){t.textContent=""}function bu(){return!1}let oa=!1;function Ws(){oa||(oa=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var n;if(!t.defaultPrevented)for(const e of t.target.elements)(n=e.__on_r)==null||n.call(e)})},{capture:!0}))}function gi(t){var n=F,e=Y;Mt(null),cn(null);try{return t()}finally{Mt(n),cn(e)}}function Zs(t,n,e,r=e){t.addEventListener(n,()=>gi(e));const i=t.__on_r;i?t.__on_r=()=>{i(),r(!0)}:t.__on_r=()=>r(!0),Ws()}function Mu(t){Y===null&&F===null&&fs(),F!==null&&F.f&Vt&&Y===null&&ss(),le&&ls()}function Js(t,n){var e=n.last;e===null?n.last=n.first=t:(e.next=t,t.prev=e,n.last=t)}function hn(t,n,e,r=!0){var i=Y;i!==null&&i.f&tn&&(t|=tn);var o={ctx:nt,deps:null,nodes_start:null,nodes_end:null,f:t|Ot,first:null,fn:n,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(e)try{Pe(o),o.f|=No}catch(s){throw Bt(o),s}else n!==null&&Zn(o);if(r){var a=o;if(e&&a.deps===null&&a.teardown===null&&a.nodes_start===null&&a.first===a.last&&!(a.f&De)&&(a=a.first),a!==null&&(a.parent=i,i!==null&&Js(a,i),F!==null&&F.f&At&&!(t&ie))){var u=F;(u.effects??(u.effects=[])).push(a)}}return o}function Ks(){return F!==null&&!Qt}function Ro(t){const n=hn(hi,null,!1);return ht(n,ct),n.teardown=t,n}function Xi(t){Mu();var n=Y.f,e=!F&&(n&wn)!==0&&(n&No)===0;if(e){var r=nt;(r.e??(r.e=[])).push(t)}else return ku(t)}function ku(t){return hn(Mo|fu,t,!1)}function Qs(t){return Mu(),hn(hi|fu,t,!0)}function js(t){On.ensure();const n=hn(ie|De,t,!0);return(e={})=>new Promise(r=>{e.outro?ye(n,()=>{Bt(n),r(void 0)}):(Bt(n),r(void 0))})}function Nu(t){return hn(Mo,t,!1)}function $r(t,n){var e=nt,r={effect:null,ran:!1,deps:t};e.l.$.push(r),r.effect=$o(()=>{t(),!r.ran&&(r.ran=!0,C(n))})}function Au(){var t=nt;$o(()=>{for(var n of t.l.$){n.deps();var e=n.effect;e.f&ct&&ht(e,xn),_r(e)&&Pe(e),n.ran=!1}})}function tf(t){return hn(pi|De,t,!0)}function $o(t,n=0){return hn(hi|n,t,!0)}function gt(t,n=[],e=[]){Hs(n,e,r=>{hn(hi,()=>t(...r.map(d)),!0)})}function Io(t,n=0){var e=hn(re|n,t,!0);return e}function Jt(t,n=!0){return hn(wn|De,t,!0,n)}function Cu(t){var n=t.teardown;if(n!==null){const e=le,r=F;ua(!0),Mt(null);try{n.call(null)}finally{ua(e),Mt(r)}}}function Pu(t,n=!1){var e=t.first;for(t.first=t.last=null;e!==null;){const i=e.ac;i!==null&&gi(()=>{i.abort(Ke)});var r=e.next;e.f&ie?e.parent=null:Bt(e,n),e=r}}function nf(t){for(var n=t.first;n!==null;){var e=n.next;n.f&wn||Bt(n),n=e}}function Bt(t,n=!0){var e=!1;(n||t.f&rs)&&t.nodes_start!==null&&t.nodes_end!==null&&(ef(t.nodes_start,t.nodes_end),e=!0),Pu(t,n&&!e),Yr(t,0),ht(t,oe);var r=t.transitions;if(r!==null)for(const o of r)o.stop();Cu(t);var i=t.parent;i!==null&&i.first!==null&&Tu(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function ef(t,n){for(;t!==null;){var e=t===n?null:dr(t);t.remove(),t=e}}function Tu(t){var n=t.parent,e=t.prev,r=t.next;e!==null&&(e.next=r),r!==null&&(r.prev=e),n!==null&&(n.first===t&&(n.first=r),n.last===t&&(n.last=e))}function ye(t,n){var e=[];Oo(t,e,!0),Ru(e,()=>{Bt(t),n&&n()})}function Ru(t,n){var e=t.length;if(e>0){var r=()=>--e||n();for(var i of t)i.out(r)}else n()}function Oo(t,n,e){if(!(t.f&tn)){if(t.f^=tn,t.transitions!==null)for(const a of t.transitions)(a.is_global||e)&&n.push(a);for(var r=t.first;r!==null;){var i=r.next,o=(r.f&vi)!==0||(r.f&wn)!==0;Oo(r,n,o?e:!1),r=i}}}function Do(t){$u(t,!0)}function $u(t,n){if(t.f&tn){t.f^=tn,t.f&ct||(ht(t,Ot),Zn(t));for(var e=t.first;e!==null;){var r=e.next,i=(e.f&vi)!==0||(e.f&wn)!==0;$u(e,i?n:!1),e=r}if(t.transitions!==null)for(const o of t.transitions)(o.is_global||n)&&o.in()}}let Nn=null;function rf(t){var n=Nn;try{if(Nn=new Set,C(t),n!==null)for(var e of Nn)n.add(e);return Nn}finally{Nn=n}}function of(t){for(var n of rf(t))Kn(n,n.v)}let we=!1;function aa(t){we=t}let le=!1;function ua(t){le=t}let F=null,Qt=!1;function Mt(t){F=t}let Y=null;function cn(t){Y=t}let mt=null;function af(t){F!==null&&(mt===null?mt=[t]:mt.push(t))}let _t=null,$t=0,Lt=null;function uf(t){Lt=t}let Iu=1,tr=0,Xn=tr;function la(t){Xn=t}let $n=!1;function Ou(){return++Iu}function _r(t){var f;var n=t.f;if(n&Ot)return!0;if(n&xn){var e=t.deps,r=(n&Vt)!==0;if(e!==null){var i,o,a=(n&qr)!==0,u=r&&Y!==null&&!$n,s=e.length;if((a||u)&&(Y===null||!(Y.f&oe))){var l=t,c=l.parent;for(i=0;i<s;i++)o=e[i],(a||!((f=o==null?void 0:o.reactions)!=null&&f.includes(l)))&&(o.reactions??(o.reactions=[])).push(l);a&&(l.f^=qr),u&&c!==null&&!(c.f&Vt)&&(l.f^=Vt)}for(i=0;i<s;i++)if(o=e[i],_r(o)&&yu(o),o.wv>t.wv)return!0}(!r||Y!==null&&!$n)&&ht(t,ct)}return!1}function Du(t,n,e=!0){var r=t.reactions;if(r!==null&&!(mt!=null&&mt.includes(t)))for(var i=0;i<r.length;i++){var o=r[i];o.f&At?Du(o,n,!1):n===o&&(e?ht(o,Ot):o.f&ct&&ht(o,xn),Zn(o))}}function Lu(t){var g;var n=_t,e=$t,r=Lt,i=F,o=$n,a=mt,u=nt,s=Qt,l=Xn,c=t.f;_t=null,$t=0,Lt=null,$n=(c&Vt)!==0&&(Qt||!we||F===null),F=c&(wn|ie)?null:t,mt=null,Ae(t.ctx),Qt=!1,Xn=++tr,t.ac!==null&&(gi(()=>{t.ac.abort(Ke)}),t.ac=null);try{t.f|=Hi;var f=t.fn,h=f(),v=t.deps;if(_t!==null){var p;if(Yr(t,$t),v!==null&&$t>0)for(v.length=$t+_t.length,p=0;p<_t.length;p++)v[$t+p]=_t[p];else t.deps=v=_t;if(!$n||c&At&&t.reactions!==null)for(p=$t;p<v.length;p++)((g=v[p]).reactions??(g.reactions=[])).push(t)}else v!==null&&$t<v.length&&(Yr(t,$t),v.length=$t);if(hr()&&Lt!==null&&!Qt&&v!==null&&!(t.f&(At|xn|Ot)))for(p=0;p<Lt.length;p++)Du(Lt[p],t);return i!==null&&i!==t&&(tr++,Lt!==null&&(r===null?r=Lt:r.push(...Lt))),t.f&Gn&&(t.f^=Gn),h}catch(_){return pu(_)}finally{t.f^=Hi,_t=n,$t=e,Lt=r,F=i,$n=o,mt=a,Ae(u),Qt=s,Xn=l}}function lf(t,n){let e=n.reactions;if(e!==null){var r=Ql.call(e,t);if(r!==-1){var i=e.length-1;i===0?e=n.reactions=null:(e[r]=e[i],e.pop())}}e===null&&n.f&At&&(_t===null||!_t.includes(n))&&(ht(n,xn),n.f&(Vt|qr)||(n.f^=qr),mu(n),Yr(n,0))}function Yr(t,n){var e=t.deps;if(e!==null)for(var r=n;r<e.length;r++)lf(t,e[r])}function Pe(t){var n=t.f;if(!(n&oe)){ht(t,ct);var e=Y,r=we;Y=t,we=!0;try{n&re?nf(t):Pu(t),Cu(t);var i=Lu(t);t.teardown=typeof i=="function"?i:null,t.wv=Iu;var o;uu&&As&&t.f&Ot&&t.deps}finally{we=r,Y=e}}}function d(t){var n=t.f,e=(n&At)!==0;if(Nn==null||Nn.add(t),F!==null&&!Qt){var r=Y!==null&&(Y.f&oe)!==0;if(!r&&!(mt!=null&&mt.includes(t))){var i=F.deps;if(F.f&Hi)t.rv<tr&&(t.rv=tr,_t===null&&i!==null&&i[$t]===t?$t++:_t===null?_t=[t]:(!$n||!_t.includes(t))&&_t.push(t));else{(F.deps??(F.deps=[])).push(t);var o=t.reactions;o===null?t.reactions=[F]:o.includes(F)||o.push(F)}}}else if(e&&t.deps===null&&t.effects===null){var a=t,u=a.parent;u!==null&&!(u.f&Vt)&&(a.f^=Vt)}if(le){if(Dn.has(t))return Dn.get(t);if(e){a=t;var s=a.v;return(!(a.f&ct)&&a.reactions!==null||Fu(a))&&(s=To(a)),Dn.set(a,s),s}}else e&&(a=t,_r(a)&&yu(a));if(t.f&Gn)throw t.v;return t.v}function Fu(t){if(t.v===ft)return!0;if(t.deps===null)return!1;for(const n of t.deps)if(Dn.has(n)||n.f&At&&Fu(n))return!0;return!1}function C(t){var n=Qt;try{return Qt=!0,t()}finally{Qt=n}}const sf=-7169;function ht(t,n){t.f=t.f&sf|n}function Et(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(In in t)Wi(t);else if(!Array.isArray(t))for(let n in t){const e=t[n];typeof e=="object"&&e&&In in e&&Wi(e)}}}function Wi(t,n=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!n.has(t)){n.add(t),t instanceof Date&&t.getTime();for(let r in t)try{Wi(t[r],n)}catch{}const e=bo(t);if(e!==Object.prototype&&e!==Array.prototype&&e!==Map.prototype&&e!==Set.prototype&&e!==Date.prototype){const r=lu(e);for(let i in r){const o=r[i].get;if(o)try{o.call(t)}catch{}}}}}const ff=["touchstart","touchmove"];function cf(t){return ff.includes(t)}const hf=new Set,sa=new Set;function vf(t,n,e,r={}){function i(o){if(r.capture||ze.call(n,o),!o.cancelBubble)return gi(()=>e==null?void 0:e.call(this,o))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?vr(()=>{n.addEventListener(t,i,r)}):n.addEventListener(t,i,r),i}function wr(t,n,e,r,i){var o={capture:r,passive:i},a=vf(t,n,e,o);(n===document.body||n===window||n===document||n instanceof HTMLMediaElement)&&Ro(()=>{n.removeEventListener(t,a,o)})}let fa=null;function ze(t){var w;var n=this,e=n.ownerDocument,r=t.type,i=((w=t.composedPath)==null?void 0:w.call(t))||[],o=i[0]||t.target;fa=t;var a=0,u=fa===t&&t.__root;if(u){var s=i.indexOf(u);if(s!==-1&&(n===document||n===window)){t.__root=n;return}var l=i.indexOf(n);if(l===-1)return;s<=l&&(a=s)}if(o=i[a]||t.target,o!==n){qi(t,"currentTarget",{configurable:!0,get(){return o||e}});var c=F,f=Y;Mt(null),cn(null);try{for(var h,v=[];o!==null;){var p=o.assignedSlot||o.parentNode||o.host||null;try{var g=o["__"+r];if(g!=null&&(!o.disabled||t.target===o))if(ci(g)){var[_,...y]=g;_.apply(o,[t,...y])}else g.call(o,t)}catch(m){h?v.push(m):h=m}if(t.cancelBubble||p===n||p===null)break;o=p}if(h){for(let m of v)queueMicrotask(()=>{throw m});throw h}}finally{t.__root=n,delete t.currentTarget,Mt(c),cn(f)}}}function qu(t){var n=document.createElement("template");return n.innerHTML=t.replaceAll("<!>","<!---->"),n.content}function Hr(t,n){var e=Y;e.nodes_start===null&&(e.nodes_start=t,e.nodes_end=n)}function Lo(t,n){var e=(n&Ss)!==0,r,i=!t.startsWith("<!>");return()=>{r===void 0&&(r=qu(i?t:"<!>"+t),r=kn(r));var o=e||xu?document.importNode(r,!0):r.cloneNode(!0);return Hr(o,o),o}}function pf(t,n,e="svg"){var r=!t.startsWith("<!>"),i=(n&xs)!==0,o=`<${e}>${r?t:"<!>"+t}</${e}>`,a;return()=>{if(!a){var u=qu(o),s=kn(u);if(i)for(a=document.createDocumentFragment();kn(s);)a.appendChild(kn(s));else a=kn(s)}var l=a.cloneNode(!0);if(i){var c=kn(l),f=l.lastChild;Hr(c,f)}else Hr(l,l);return l}}function vt(t,n){return pf(t,n,"svg")}function Qn(){var t=document.createDocumentFragment(),n=document.createComment(""),e=pr();return t.append(n,e),Hr(n,e),t}function K(t,n){t!==null&&t.before(n)}function Ht(t,n){var e=n==null?"":typeof n=="object"?n+"":n;e!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=e,t.nodeValue=e+"")}function df(t,n){return _f(t,n)}const ce=new Map;function _f(t,{target:n,anchor:e,props:r={},events:i,context:o,intro:a=!0}){Gs();var u=new Set,s=f=>{for(var h=0;h<f.length;h++){var v=f[h];if(!u.has(v)){u.add(v);var p=cf(v);n.addEventListener(v,ze,{passive:p});var g=ce.get(v);g===void 0?(document.addEventListener(v,ze,{passive:p}),ce.set(v,1)):ce.set(v,g+1)}}};s(Eo(hf)),sa.add(s);var l=void 0,c=js(()=>{var f=e??n.appendChild(pr());return Ds(f,{pending:()=>{}},h=>{if(o){ae({});var v=nt;v.c=o}i&&(r.$$events=i),l=t(h,r)||{},o&&ue()}),()=>{var p;for(var h of u){n.removeEventListener(h,ze);var v=ce.get(h);--v===0?(document.removeEventListener(h,ze),ce.delete(h)):ce.set(h,v)}sa.delete(s),f!==e&&((p=f.parentNode)==null||p.removeChild(f))}});return gf.set(l,c),l}let gf=new WeakMap;function mn(t,n,e=!1){var r=t,i=null,o=null,a=ft,u=e?vi:0,s=!1;const l=(v,p=!0)=>{s=!0,h(p,v)};var c=null;function f(){c!==null&&(c.lastChild.remove(),r.before(c),c=null);var v=a?i:o,p=a?o:i;v&&Do(v),p&&ye(p,()=>{a?o=null:i=null})}const h=(v,p)=>{if(a!==(a=v)){var g=bu(),_=r;if(g&&(c=document.createDocumentFragment(),c.append(_=pr())),a?i??(i=p&&Jt(()=>p(_))):o??(o=p&&Jt(()=>p(_))),g){var y=at,w=a?i:o,m=a?o:i;w&&y.skipped_effects.delete(w),m&&y.skipped_effects.add(m),y.add_callback(f)}else f()}};Io(()=>{s=!1,n(l),s||h(null,null)},u)}function Ut(t,n){return n}function mf(t,n,e){for(var r=t.items,i=[],o=n.length,a=0;a<o;a++)Oo(n[a].e,i,!0);var u=o>0&&i.length===0&&e!==null;if(u){var s=e.parentNode;Xs(s),s.append(e),r.clear(),rn(t,n[0].prev,n[o-1].next)}Ru(i,()=>{for(var l=0;l<o;l++){var c=n[l];u||(r.delete(c.k),rn(t,c.prev,c.next)),Bt(c.e,!u)}})}function Gt(t,n,e,r,i,o=null){var a=t,u={flags:n,items:new Map,first:null},s=(n&cu)!==0;if(s){var l=t;a=l.appendChild(pr())}var c=null,f=!1,h=new Map,v=Po(()=>{var y=e();return ci(y)?y:y==null?[]:Eo(y)}),p,g;function _(){yf(g,p,u,h,a,i,n,r,e),o!==null&&(p.length===0?c?Do(c):c=Jt(()=>o(a)):c!==null&&ye(c,()=>{c=null}))}Io(()=>{g??(g=Y),p=d(v);var y=p.length;if(!(f&&y===0)){f=y===0;var w,m,S,E;if(bu()){var b=new Set,N=at;for(m=0;m<y;m+=1){S=p[m],E=r(S,m);var A=u.items.get(E)??h.get(E);A?n&(di|_i)&&Yu(A,S,m,n):(w=Hu(null,u,null,null,S,E,m,i,n,e,!0),h.set(E,w)),b.add(E)}for(const[R,D]of u.items)b.has(R)||N.skipped_effects.add(D.e);N.add_callback(_)}else _();d(v)}})}function yf(t,n,e,r,i,o,a,u,s){var X,Ct,wt,Pt;var l=(a&_s)!==0,c=(a&(di|_i))!==0,f=n.length,h=e.items,v=e.first,p=v,g,_=null,y,w=[],m=[],S,E,b,N;if(l)for(N=0;N<f;N+=1)S=n[N],E=u(S,N),b=h.get(E),b!==void 0&&((X=b.a)==null||X.measure(),(y??(y=new Set)).add(b));for(N=0;N<f;N+=1){if(S=n[N],E=u(S,N),b=h.get(E),b===void 0){var A=r.get(E);if(A!==void 0){r.delete(E),h.set(E,A);var R=_?_.next:p;rn(e,_,A),rn(e,A,R),ki(A,R,i),_=A}else{var D=p?p.e.nodes_start:i;_=Hu(D,e,_,_===null?e.first:_.next,S,E,N,o,a,s)}h.set(E,_),w=[],m=[],p=_.next;continue}if(c&&Yu(b,S,N,a),b.e.f&tn&&(Do(b.e),l&&((Ct=b.a)==null||Ct.unfix(),(y??(y=new Set)).delete(b))),b!==p){if(g!==void 0&&g.has(b)){if(w.length<m.length){var M=m[0],L;_=M.prev;var $=w[0],I=w[w.length-1];for(L=0;L<w.length;L+=1)ki(w[L],M,i);for(L=0;L<m.length;L+=1)g.delete(m[L]);rn(e,$.prev,I.next),rn(e,_,$),rn(e,I,M),p=M,_=I,N-=1,w=[],m=[]}else g.delete(b),ki(b,p,i),rn(e,b.prev,b.next),rn(e,b,_===null?e.first:_.next),rn(e,_,b),_=b;continue}for(w=[],m=[];p!==null&&p.k!==E;)p.e.f&tn||(g??(g=new Set)).add(p),m.push(p),p=p.next;if(p===null)continue;b=p}w.push(b),_=b,p=b.next}if(p!==null||g!==void 0){for(var x=g===void 0?[]:Eo(g);p!==null;)p.e.f&tn||x.push(p),p=p.next;var T=x.length;if(T>0){var G=a&cu&&f===0?i:null;if(l){for(N=0;N<T;N+=1)(wt=x[N].a)==null||wt.measure();for(N=0;N<T;N+=1)(Pt=x[N].a)==null||Pt.fix()}mf(e,x,G)}}l&&vr(()=>{var pt;if(y!==void 0)for(b of y)(pt=b.a)==null||pt.apply()}),t.first=e.first&&e.first.e,t.last=_&&_.e;for(var Z of r.values())Bt(Z.e);r.clear()}function Yu(t,n,e,r){r&di&&Kn(t.v,n),r&_i?Kn(t.i,e):t.i=e}function Hu(t,n,e,r,i,o,a,u,s,l,c){var f=(s&di)!==0,h=(s&gs)===0,v=f?h?dt(i,!1,!1):Jn(i):i,p=s&_i?Jn(a):a,g={i:p,v,k:o,a:null,e:null,prev:e,next:r};try{if(t===null){var _=document.createDocumentFragment();_.append(t=pr())}return g.e=Jt(()=>u(t,v,p,l),ks),g.e.prev=e&&e.e,g.e.next=r&&r.e,e===null?c||(n.first=g):(e.next=g,e.e.next=g.e),r!==null&&(r.prev=g,r.e.prev=g.e),g}finally{}}function ki(t,n,e){for(var r=t.next?t.next.e.nodes_start:e,i=n?n.e.nodes_start:e,o=t.e.nodes_start;o!==null&&o!==r;){var a=dr(o);i.before(o),o=a}}function rn(t,n,e){n===null?t.first=e:(n.next=e,n.e.next=e&&e.e),e!==null&&(e.prev=n,e.e.prev=n&&n.e)}function zu(t,n,e=!1){if(t.multiple){if(n==null)return;if(!ci(n))return bs();for(var r of t.options)r.selected=n.includes(je(r));return}for(r of t.options){var i=je(r);if(Us(i,n)){r.selected=!0;return}}(!e||n!==void 0)&&(t.selectedIndex=-1)}function wf(t){var n=new MutationObserver(()=>{zu(t,t.__value)});n.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Ro(()=>{n.disconnect()})}function xf(t,n,e=n){var r=!0;Zs(t,"change",i=>{var o=i?"[selected]":":checked",a;if(t.multiple)a=[].map.call(t.querySelectorAll(o),je);else{var u=t.querySelector(o)??t.querySelector("option:not([disabled])");a=u&&je(u)}e(a)}),Nu(()=>{var i=n();if(zu(t,i,r),r&&i===void 0){var o=t.querySelector(":checked");o!==null&&(i=je(o),e(i))}t.__value=i,r=!1}),wf(t)}function je(t){return"__value"in t?t.__value:t.value}const Sf=Symbol("is custom element"),Ef=Symbol("is html");function P(t,n,e,r){var i=bf(t);i[n]!==(i[n]=e)&&(n==="loading"&&(t[os]=e),e==null?t.removeAttribute(n):typeof e!="string"&&Mf(t).includes(n)?t[n]=e:t.setAttribute(n,e))}function bf(t){return t.__attributes??(t.__attributes={[Sf]:t.nodeName.includes("-"),[Ef]:t.namespaceURI===Es})}var ca=new Map;function Mf(t){var n=t.getAttribute("is")||t.nodeName,e=ca.get(n);if(e)return e;ca.set(n,e=[]);for(var r,i=t,o=Element.prototype;o!==i;){r=lu(i);for(var a in r)r[a].set&&e.push(a);i=bo(i)}return e}var Rn,Ne,cr,si,Vu;const fi=class fi{constructor(n){B(this,si);B(this,Rn,new WeakMap);B(this,Ne);B(this,cr);O(this,cr,n)}observe(n,e){var r=k(this,Rn).get(n)||new Set;return r.add(e),k(this,Rn).set(n,r),st(this,si,Vu).call(this).observe(n,k(this,cr)),()=>{var i=k(this,Rn).get(n);i.delete(e),i.size===0&&(k(this,Rn).delete(n),k(this,Ne).unobserve(n))}}};Rn=new WeakMap,Ne=new WeakMap,cr=new WeakMap,si=new WeakSet,Vu=function(){return k(this,Ne)??O(this,Ne,new ResizeObserver(n=>{for(var e of n){fi.entries.set(e.target,e);for(var r of k(this,Rn).get(e.target)||[])r(e)}}))},Yn(fi,"entries",new WeakMap);let Zi=fi;var kf=new Zi({box:"border-box"});function ha(t,n,e){var r=kf.observe(t,()=>e(t[n]));Nu(()=>(C(()=>e(t[n])),r))}function Fe(t=!1){const n=nt,e=n.l.u;if(!e)return;let r=()=>Et(n.s);if(t){let i=0,o={};const a=Co(()=>{let u=!1;const s=n.s;for(const l in s)s[l]!==o[l]&&(o[l]=s[l],u=!0);return u&&i++,i});r=()=>d(a)}e.b.length&&Qs(()=>{va(n,r),Yi(e.b)}),Xi(()=>{const i=C(()=>e.m.map(es));return()=>{for(const o of i)typeof o=="function"&&o()}}),e.a.length&&Xi(()=>{va(n,r),Yi(e.a)})}function va(t,n){if(t.l.s)for(const e of t.l.s)d(e);n()}let xr=!1;function Nf(t){var n=xr;try{return xr=!1,[t(),xr]}finally{xr=n}}function j(t,n,e,r){var w;var i=!Le||(e&ms)!==0,o=(e&ws)!==0,a=r,u=!0,s=()=>(u&&(u=!1,a=r),a),l;{var c=In in t||is in t;l=((w=me(t,n))==null?void 0:w.set)??(c&&n in t?m=>t[n]=m:void 0)}var f,h=!1;[f,h]=Nf(()=>t[n]);var v;if(i?v=()=>{var m=t[n];return m===void 0?s():(u=!0,m)}:v=()=>{var m=t[n];return m!==void 0&&(a=void 0),m===void 0?a:m},i&&!(e&ys))return v;if(l){var p=t.$$legacy;return function(m,S){return arguments.length>0?((!i||!S||p||h)&&l(S?v():m),m):v()}}var g=!1,_=Po(()=>(g=!1,v()));d(_);var y=Y;return function(m,S){if(arguments.length>0){const E=S?d(_):i&&o?pe(m):m;return U(_,E),g=!0,a!==void 0&&(a=E),m}return le&&g||y.f&oe?_.v:d(_)}}function Af(t){nt===null&&as(),Le&&nt.l!==null?Cf(nt).m.push(t):Xi(()=>{const n=C(t);if(typeof n=="function")return n})}function Cf(t){var n=t.l;return n.u??(n.u={a:[],b:[],m:[]})}const Pf="5";var au;typeof window<"u"&&((au=window.__svelte??(window.__svelte={})).v??(au.v=new Set)).add(Pf);Cs();function Ir(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function Bu(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Uu(t){let n,e,r;t.length!==2?(n=Ir,e=(u,s)=>Ir(t(u),s),r=(u,s)=>t(u)-s):(n=t===Ir||t===Bu?t:Tf,e=t,r=t);function i(u,s,l=0,c=u.length){if(l<c){if(n(s,s)!==0)return c;do{const f=l+c>>>1;e(u[f],s)<0?l=f+1:c=f}while(l<c)}return l}function o(u,s,l=0,c=u.length){if(l<c){if(n(s,s)!==0)return c;do{const f=l+c>>>1;e(u[f],s)<=0?l=f+1:c=f}while(l<c)}return l}function a(u,s,l=0,c=u.length){const f=i(u,s,l,c-1);return f>l&&r(u[f-1],s)>-r(u[f],s)?f-1:f}return{left:i,center:a,right:o}}function Tf(){return 0}function Rf(t){return t===null?NaN:+t}const $f=Uu(Ir),If=$f.right;Uu(Rf).center;class jn{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=e[i],a=n+o,u=Math.abs(n)<Math.abs(o)?n-(a-o):o-(a-n);u&&(e[r++]=u),n=a}return e[r]=n,this._n=r+1,this}valueOf(){const n=this._partials;let e=this._n,r,i,o,a=0;if(e>0){for(a=n[--e];e>0&&(r=a,i=n[--e],a=r+i,o=i-(a-r),!o););e>0&&(o<0&&n[e-1]<0||o>0&&n[e-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}class Ji extends Map{constructor(n,e=Lf){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const[r,i]of n)this.set(r,i)}get(n){return super.get(pa(this,n))}has(n){return super.has(pa(this,n))}set(n,e){return super.set(Of(this,n),e)}delete(n){return super.delete(Df(this,n))}}function pa({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function Of({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function Df({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function Lf(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Gu(t){return t}function Ni(t,...n){return Xu(t,Array.from,Gu,n)}function Ff(t,n,...e){return Xu(t,Gu,n,e)}function Xu(t,n,e,r){return function i(o,a){if(a>=r.length)return e(o);const u=new Ji,s=r[a++];let l=-1;for(const c of o){const f=s(c,++l,o),h=u.get(f);h?h.push(c):u.set(f,[c])}for(const[c,f]of u)u.set(c,i(f,a));return n(u)}(t,0)}const qf=Math.sqrt(50),Yf=Math.sqrt(10),Hf=Math.sqrt(2);function zr(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=qf?10:o>=Yf?5:o>=Hf?2:1;let u,s,l;return i<0?(l=Math.pow(10,-i)/a,u=Math.round(t*l),s=Math.round(n*l),u/l<t&&++u,s/l>n&&--s,l=-l):(l=Math.pow(10,i)*a,u=Math.round(t/l),s=Math.round(n/l),u*l<t&&++u,s*l>n&&--s),s<u&&.5<=e&&e<2?zr(t,n,e*2):[u,s,l]}function zf(t,n,e){if(n=+n,t=+t,e=+e,!(e>0))return[];if(t===n)return[t];const r=n<t,[i,o,a]=r?zr(n,t,e):zr(t,n,e);if(!(o>=i))return[];const u=o-i+1,s=new Array(u);if(r)if(a<0)for(let l=0;l<u;++l)s[l]=(o-l)/-a;else for(let l=0;l<u;++l)s[l]=(o-l)*a;else if(a<0)for(let l=0;l<u;++l)s[l]=(i+l)/-a;else for(let l=0;l<u;++l)s[l]=(i+l)*a;return s}function Ki(t,n,e){return n=+n,t=+t,e=+e,zr(t,n,e)[2]}function Vf(t,n,e){n=+n,t=+t,e=+e;const r=n<t,i=r?Ki(n,t,e):Ki(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function Bf(t,n){let e;for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);return e}function da(t,n){let e=0,r=0;for(let i of t)i!=null&&(i=+i)>=i&&(++e,r+=i);if(e)return r/e}function*Uf(t){for(const n of t)yield*n}function Wu(t){return Array.from(Uf(t))}var Gf={value:()=>{}};function Zu(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new Or(e)}function Or(t){this._=t}function Xf(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}Or.prototype=Zu.prototype={constructor:Or,on:function(t,n){var e=this._,r=Xf(t+"",e),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=Wf(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<a;)if(i=(t=r[o]).type)e[i]=_a(e[i],t.name,n);else if(n==null)for(i in e)e[i]=_a(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Or(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,o;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};function Wf(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function _a(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Gf,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var Qi="http://www.w3.org/1999/xhtml";const ga={svg:"http://www.w3.org/2000/svg",xhtml:Qi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function mi(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),ga.hasOwnProperty(n)?{space:ga[n],local:t}:t}function Zf(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Qi&&n.documentElement.namespaceURI===Qi?n.createElement(t):n.createElementNS(e,t)}}function Jf(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ju(t){var n=mi(t);return(n.local?Jf:Zf)(n)}function Kf(){}function Fo(t){return t==null?Kf:function(){return this.querySelector(t)}}function Qf(t){typeof t!="function"&&(t=Fo(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,u=r[i]=new Array(a),s,l,c=0;c<a;++c)(s=o[c])&&(l=t.call(s,s.__data__,c,o))&&("__data__"in s&&(l.__data__=s.__data__),u[c]=l);return new nn(r,this._parents)}function jf(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function tc(){return[]}function Ku(t){return t==null?tc:function(){return this.querySelectorAll(t)}}function nc(t){return function(){return jf(t.apply(this,arguments))}}function ec(t){typeof t=="function"?t=nc(t):t=Ku(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a=n[o],u=a.length,s,l=0;l<u;++l)(s=a[l])&&(r.push(t.call(s,s.__data__,l,a)),i.push(s));return new nn(r,i)}function Qu(t){return function(){return this.matches(t)}}function ju(t){return function(n){return n.matches(t)}}var rc=Array.prototype.find;function ic(t){return function(){return rc.call(this.children,t)}}function oc(){return this.firstElementChild}function ac(t){return this.select(t==null?oc:ic(typeof t=="function"?t:ju(t)))}var uc=Array.prototype.filter;function lc(){return Array.from(this.children)}function sc(t){return function(){return uc.call(this.children,t)}}function fc(t){return this.selectAll(t==null?lc:sc(typeof t=="function"?t:ju(t)))}function cc(t){typeof t!="function"&&(t=Qu(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,u=r[i]=[],s,l=0;l<a;++l)(s=o[l])&&t.call(s,s.__data__,l,o)&&u.push(s);return new nn(r,this._parents)}function tl(t){return new Array(t.length)}function hc(){return new nn(this._enter||this._groups.map(tl),this._parents)}function Vr(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Vr.prototype={constructor:Vr,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function vc(t){return function(){return t}}function pc(t,n,e,r,i,o){for(var a=0,u,s=n.length,l=o.length;a<l;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new Vr(t,o[a]);for(;a<s;++a)(u=n[a])&&(i[a]=u)}function dc(t,n,e,r,i,o,a){var u,s,l=new Map,c=n.length,f=o.length,h=new Array(c),v;for(u=0;u<c;++u)(s=n[u])&&(h[u]=v=a.call(s,s.__data__,u,n)+"",l.has(v)?i[u]=s:l.set(v,s));for(u=0;u<f;++u)v=a.call(t,o[u],u,o)+"",(s=l.get(v))?(r[u]=s,s.__data__=o[u],l.delete(v)):e[u]=new Vr(t,o[u]);for(u=0;u<c;++u)(s=n[u])&&l.get(h[u])===s&&(i[u]=s)}function _c(t){return t.__data__}function gc(t,n){if(!arguments.length)return Array.from(this,_c);var e=n?dc:pc,r=this._parents,i=this._groups;typeof t!="function"&&(t=vc(t));for(var o=i.length,a=new Array(o),u=new Array(o),s=new Array(o),l=0;l<o;++l){var c=r[l],f=i[l],h=f.length,v=mc(t.call(c,c&&c.__data__,l,r)),p=v.length,g=u[l]=new Array(p),_=a[l]=new Array(p),y=s[l]=new Array(h);e(c,f,g,_,y,v,n);for(var w=0,m=0,S,E;w<p;++w)if(S=g[w]){for(w>=m&&(m=w+1);!(E=_[m])&&++m<p;);S._next=E||null}}return a=new nn(a,r),a._enter=u,a._exit=s,a}function mc(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function yc(){return new nn(this._exit||this._groups.map(tl),this._parents)}function wc(t,n,e){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?o.remove():e(o),r&&i?r.merge(i).order():i}function xc(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,a=Math.min(i,o),u=new Array(i),s=0;s<a;++s)for(var l=e[s],c=r[s],f=l.length,h=u[s]=new Array(f),v,p=0;p<f;++p)(v=l[p]||c[p])&&(h[p]=v);for(;s<i;++s)u[s]=e[s];return new nn(u,this._parents)}function Sc(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Ec(t){t||(t=bc);function n(f,h){return f&&h?t(f.__data__,h.__data__):!f-!h}for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a=e[o],u=a.length,s=i[o]=new Array(u),l,c=0;c<u;++c)(l=a[c])&&(s[c]=l);s.sort(n)}return new nn(i,this._parents).order()}function bc(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Mc(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function kc(){return Array.from(this)}function Nc(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function Ac(){let t=0;for(const n of this)++t;return t}function Cc(){return!this.node()}function Pc(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,a=i.length,u;o<a;++o)(u=i[o])&&t.call(u,u.__data__,o,i);return this}function Tc(t){return function(){this.removeAttribute(t)}}function Rc(t){return function(){this.removeAttributeNS(t.space,t.local)}}function $c(t,n){return function(){this.setAttribute(t,n)}}function Ic(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Oc(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function Dc(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Lc(t,n){var e=mi(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?Rc:Tc:typeof n=="function"?e.local?Dc:Oc:e.local?Ic:$c)(e,n))}function nl(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Fc(t){return function(){this.style.removeProperty(t)}}function qc(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Yc(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function Hc(t,n,e){return arguments.length>1?this.each((n==null?Fc:typeof n=="function"?Yc:qc)(t,n,e??"")):Te(this.node(),t)}function Te(t,n){return t.style.getPropertyValue(n)||nl(t).getComputedStyle(t,null).getPropertyValue(n)}function zc(t){return function(){delete this[t]}}function Vc(t,n){return function(){this[t]=n}}function Bc(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function Uc(t,n){return arguments.length>1?this.each((n==null?zc:typeof n=="function"?Bc:Vc)(t,n)):this.node()[t]}function el(t){return t.trim().split(/^|\s+/)}function qo(t){return t.classList||new rl(t)}function rl(t){this._node=t,this._names=el(t.getAttribute("class")||"")}rl.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function il(t,n){for(var e=qo(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function ol(t,n){for(var e=qo(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Gc(t){return function(){il(this,t)}}function Xc(t){return function(){ol(this,t)}}function Wc(t,n){return function(){(n.apply(this,arguments)?il:ol)(this,t)}}function Zc(t,n){var e=el(t+"");if(arguments.length<2){for(var r=qo(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?Wc:n?Gc:Xc)(e,n))}function Jc(){this.textContent=""}function Kc(t){return function(){this.textContent=t}}function Qc(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function jc(t){return arguments.length?this.each(t==null?Jc:(typeof t=="function"?Qc:Kc)(t)):this.node().textContent}function th(){this.innerHTML=""}function nh(t){return function(){this.innerHTML=t}}function eh(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function rh(t){return arguments.length?this.each(t==null?th:(typeof t=="function"?eh:nh)(t)):this.node().innerHTML}function ih(){this.nextSibling&&this.parentNode.appendChild(this)}function oh(){return this.each(ih)}function ah(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function uh(){return this.each(ah)}function lh(t){var n=typeof t=="function"?t:Ju(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function sh(){return null}function fh(t,n){var e=typeof t=="function"?t:Ju(t),r=n==null?sh:typeof n=="function"?n:Fo(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function ch(){var t=this.parentNode;t&&t.removeChild(this)}function hh(){return this.each(ch)}function vh(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function ph(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function dh(t){return this.select(t?ph:vh)}function _h(t){return arguments.length?this.property("__data__",t):this.node().__data__}function gh(t){return function(n){t.call(this,n,this.__data__)}}function mh(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function yh(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,o;e<i;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++r]=o;++r?n.length=r:delete this.__on}}}function wh(t,n,e){return function(){var r=this.__on,i,o=gh(n);if(r){for(var a=0,u=r.length;a<u;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=e),i.value=n;return}}this.addEventListener(t.type,o,e),i={type:t.type,name:t.name,value:n,listener:o,options:e},r?r.push(i):this.__on=[i]}}function xh(t,n,e){var r=mh(t+""),i,o=r.length,a;if(arguments.length<2){var u=this.node().__on;if(u){for(var s=0,l=u.length,c;s<l;++s)for(i=0,c=u[s];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(u=n?wh:yh,i=0;i<o;++i)this.each(u(r[i],n,e));return this}function al(t,n,e){var r=nl(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Sh(t,n){return function(){return al(this,t,n)}}function Eh(t,n){return function(){return al(this,t,n.apply(this,arguments))}}function bh(t,n){return this.each((typeof n=="function"?Eh:Sh)(t,n))}function*Mh(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var kh=[null];function nn(t,n){this._groups=t,this._parents=n}function gr(){return new nn([[document.documentElement]],kh)}function Nh(){return this}nn.prototype=gr.prototype={constructor:nn,select:Qf,selectAll:ec,selectChild:ac,selectChildren:fc,filter:cc,data:gc,enter:hc,exit:yc,join:wc,merge:xc,selection:Nh,order:Sc,sort:Ec,call:Mc,nodes:kc,node:Nc,size:Ac,empty:Cc,each:Pc,attr:Lc,style:Hc,property:Uc,classed:Zc,text:jc,html:rh,raise:oh,lower:uh,append:lh,insert:fh,remove:hh,clone:dh,datum:_h,on:xh,dispatch:bh,[Symbol.iterator]:Mh};function Yo(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function ul(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function mr(){}var nr=.7,Br=1/nr,xe="\\s*([+-]?\\d+)\\s*",er="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ah=/^#([0-9a-f]{3,8})$/,Ch=new RegExp(`^rgb\\(${xe},${xe},${xe}\\)$`),Ph=new RegExp(`^rgb\\(${fn},${fn},${fn}\\)$`),Th=new RegExp(`^rgba\\(${xe},${xe},${xe},${er}\\)$`),Rh=new RegExp(`^rgba\\(${fn},${fn},${fn},${er}\\)$`),$h=new RegExp(`^hsl\\(${er},${fn},${fn}\\)$`),Ih=new RegExp(`^hsla\\(${er},${fn},${fn},${er}\\)$`),ma={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Yo(mr,te,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ya,formatHex:ya,formatHex8:Oh,formatHsl:Dh,formatRgb:wa,toString:wa});function ya(){return this.rgb().formatHex()}function Oh(){return this.rgb().formatHex8()}function Dh(){return ll(this).formatHsl()}function wa(){return this.rgb().formatRgb()}function te(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Ah.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?xa(n):e===3?new kt(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?Sr(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?Sr(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=Ch.exec(t))?new kt(n[1],n[2],n[3],1):(n=Ph.exec(t))?new kt(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=Th.exec(t))?Sr(n[1],n[2],n[3],n[4]):(n=Rh.exec(t))?Sr(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=$h.exec(t))?ba(n[1],n[2]/100,n[3]/100,1):(n=Ih.exec(t))?ba(n[1],n[2]/100,n[3]/100,n[4]):ma.hasOwnProperty(t)?xa(ma[t]):t==="transparent"?new kt(NaN,NaN,NaN,0):null}function xa(t){return new kt(t>>16&255,t>>8&255,t&255,1)}function Sr(t,n,e,r){return r<=0&&(t=n=e=NaN),new kt(t,n,e,r)}function Lh(t){return t instanceof mr||(t=te(t)),t?(t=t.rgb(),new kt(t.r,t.g,t.b,t.opacity)):new kt}function ji(t,n,e,r){return arguments.length===1?Lh(t):new kt(t,n,e,r??1)}function kt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}Yo(kt,ji,ul(mr,{brighter(t){return t=t==null?Br:Math.pow(Br,t),new kt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?nr:Math.pow(nr,t),new kt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new kt(Wn(this.r),Wn(this.g),Wn(this.b),Ur(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Sa,formatHex:Sa,formatHex8:Fh,formatRgb:Ea,toString:Ea}));function Sa(){return`#${Hn(this.r)}${Hn(this.g)}${Hn(this.b)}`}function Fh(){return`#${Hn(this.r)}${Hn(this.g)}${Hn(this.b)}${Hn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ea(){const t=Ur(this.opacity);return`${t===1?"rgb(":"rgba("}${Wn(this.r)}, ${Wn(this.g)}, ${Wn(this.b)}${t===1?")":`, ${t})`}`}function Ur(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Wn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Hn(t){return t=Wn(t),(t<16?"0":"")+t.toString(16)}function ba(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new jt(t,n,e,r)}function ll(t){if(t instanceof jt)return new jt(t.h,t.s,t.l,t.opacity);if(t instanceof mr||(t=te(t)),!t)return new jt;if(t instanceof jt)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,s=(o+i)/2;return u?(n===o?a=(e-r)/u+(e<r)*6:e===o?a=(r-n)/u+2:a=(n-e)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=s>0&&s<1?0:a,new jt(a,u,s,t.opacity)}function qh(t,n,e,r){return arguments.length===1?ll(t):new jt(t,n,e,r??1)}function jt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}Yo(jt,qh,ul(mr,{brighter(t){return t=t==null?Br:Math.pow(Br,t),new jt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?nr:Math.pow(nr,t),new jt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new kt(Ai(t>=240?t-240:t+120,i,r),Ai(t,i,r),Ai(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new jt(Ma(this.h),Er(this.s),Er(this.l),Ur(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ur(this.opacity);return`${t===1?"hsl(":"hsla("}${Ma(this.h)}, ${Er(this.s)*100}%, ${Er(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ma(t){return t=(t||0)%360,t<0?t+360:t}function Er(t){return Math.max(0,Math.min(1,t||0))}function Ai(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const Ho=t=>()=>t;function Yh(t,n){return function(e){return t+e*n}}function Hh(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function zh(t){return(t=+t)==1?sl:function(n,e){return e-n?Hh(n,e,t):Ho(isNaN(n)?e:n)}}function sl(t,n){var e=n-t;return e?Yh(t,e):Ho(isNaN(t)?n:t)}const Gr=function t(n){var e=zh(n);function r(i,o){var a=e((i=ji(i)).r,(o=ji(o)).r),u=e(i.g,o.g),s=e(i.b,o.b),l=sl(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=u(c),i.b=s(c),i.opacity=l(c),i+""}}return r.gamma=t,r}(1);function Vh(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(o){for(i=0;i<e;++i)r[i]=t[i]*(1-o)+n[i]*o;return r}}function Bh(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Uh(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),o=new Array(e),a;for(a=0;a<r;++a)i[a]=zo(t[a],n[a]);for(;a<e;++a)o[a]=n[a];return function(u){for(a=0;a<r;++a)o[a]=i[a](u);return o}}function Gh(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function Kt(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Xh(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=zo(t[i],n[i]):r[i]=n[i];return function(o){for(i in e)r[i]=e[i](o);return r}}var to=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ci=new RegExp(to.source,"g");function Wh(t){return function(){return t}}function Zh(t){return function(n){return t(n)+""}}function fl(t,n){var e=to.lastIndex=Ci.lastIndex=0,r,i,o,a=-1,u=[],s=[];for(t=t+"",n=n+"";(r=to.exec(t))&&(i=Ci.exec(n));)(o=i.index)>e&&(o=n.slice(e,o),u[a]?u[a]+=o:u[++a]=o),(r=r[0])===(i=i[0])?u[a]?u[a]+=i:u[++a]=i:(u[++a]=null,s.push({i:a,x:Kt(r,i)})),e=Ci.lastIndex;return e<n.length&&(o=n.slice(e),u[a]?u[a]+=o:u[++a]=o),u.length<2?s[0]?Zh(s[0].x):Wh(n):(n=s.length,function(l){for(var c=0,f;c<n;++c)u[(f=s[c]).i]=f.x(l);return u.join("")})}function zo(t,n){var e=typeof n,r;return n==null||e==="boolean"?Ho(n):(e==="number"?Kt:e==="string"?(r=te(n))?(n=r,Gr):fl:n instanceof te?Gr:n instanceof Date?Gh:Bh(n)?Vh:Array.isArray(n)?Uh:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?Xh:Kt)(t,n)}function Jh(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var ka=180/Math.PI,no={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function cl(t,n,e,r,i,o){var a,u,s;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,s/=u),t*r<n*e&&(t=-t,n=-n,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*ka,skewX:Math.atan(s)*ka,scaleX:a,scaleY:u}}var br;function Kh(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?no:cl(n.a,n.b,n.c,n.d,n.e,n.f)}function Qh(t){return t==null||(br||(br=document.createElementNS("http://www.w3.org/2000/svg","g")),br.setAttribute("transform",t),!(t=br.transform.baseVal.consolidate()))?no:(t=t.matrix,cl(t.a,t.b,t.c,t.d,t.e,t.f))}function hl(t,n,e,r){function i(l){return l.length?l.pop()+" ":""}function o(l,c,f,h,v,p){if(l!==f||c!==h){var g=v.push("translate(",null,n,null,e);p.push({i:g-4,x:Kt(l,f)},{i:g-2,x:Kt(c,h)})}else(f||h)&&v.push("translate("+f+n+h+e)}function a(l,c,f,h){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Kt(l,c)})):c&&f.push(i(f)+"rotate("+c+r)}function u(l,c,f,h){l!==c?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Kt(l,c)}):c&&f.push(i(f)+"skewX("+c+r)}function s(l,c,f,h,v,p){if(l!==f||c!==h){var g=v.push(i(v)+"scale(",null,",",null,")");p.push({i:g-4,x:Kt(l,f)},{i:g-2,x:Kt(c,h)})}else(f!==1||h!==1)&&v.push(i(v)+"scale("+f+","+h+")")}return function(l,c){var f=[],h=[];return l=t(l),c=t(c),o(l.translateX,l.translateY,c.translateX,c.translateY,f,h),a(l.rotate,c.rotate,f,h),u(l.skewX,c.skewX,f,h),s(l.scaleX,l.scaleY,c.scaleX,c.scaleY,f,h),l=c=null,function(v){for(var p=-1,g=h.length,_;++p<g;)f[(_=h[p]).i]=_.x(v);return f.join("")}}}var jh=hl(Kh,"px, ","px)","deg)"),t0=hl(Qh,", ",")",")"),Re=0,Ve=0,Ye=0,vl=1e3,Xr,Be,Wr=0,ne=0,yi=0,rr=typeof performance=="object"&&performance.now?performance:Date,pl=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Vo(){return ne||(pl(n0),ne=rr.now()+yi)}function n0(){ne=0}function Zr(){this._call=this._time=this._next=null}Zr.prototype=dl.prototype={constructor:Zr,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?Vo():+e)+(n==null?0:+n),!this._next&&Be!==this&&(Be?Be._next=this:Xr=this,Be=this),this._call=t,this._time=e,eo()},stop:function(){this._call&&(this._call=null,this._time=1/0,eo())}};function dl(t,n,e){var r=new Zr;return r.restart(t,n,e),r}function e0(){Vo(),++Re;for(var t=Xr,n;t;)(n=ne-t._time)>=0&&t._call.call(void 0,n),t=t._next;--Re}function Na(){ne=(Wr=rr.now())+yi,Re=Ve=0;try{e0()}finally{Re=0,i0(),ne=0}}function r0(){var t=rr.now(),n=t-Wr;n>vl&&(yi-=n,Wr=t)}function i0(){for(var t,n=Xr,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Xr=e);Be=t,eo(r)}function eo(t){if(!Re){Ve&&(Ve=clearTimeout(Ve));var n=t-ne;n>24?(t<1/0&&(Ve=setTimeout(Na,t-rr.now()-yi)),Ye&&(Ye=clearInterval(Ye))):(Ye||(Wr=rr.now(),Ye=setInterval(r0,vl)),Re=1,pl(Na))}}function Aa(t,n,e){var r=new Zr;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var o0=Zu("start","end","cancel","interrupt"),a0=[],_l=0,Ca=1,ro=2,Dr=3,Pa=4,io=5,Lr=6;function wi(t,n,e,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(e in a)return;u0(t,e,{name:n,index:r,group:i,on:o0,tween:a0,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:_l})}function Bo(t,n){var e=en(t,n);if(e.state>_l)throw new Error("too late; already scheduled");return e}function vn(t,n){var e=en(t,n);if(e.state>Dr)throw new Error("too late; already running");return e}function en(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function u0(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=dl(o,0,e.time);function o(l){e.state=Ca,e.timer.restart(a,e.delay,e.time),e.delay<=l&&a(l-e.delay)}function a(l){var c,f,h,v;if(e.state!==Ca)return s();for(c in r)if(v=r[c],v.name===e.name){if(v.state===Dr)return Aa(a);v.state===Pa?(v.state=Lr,v.timer.stop(),v.on.call("interrupt",t,t.__data__,v.index,v.group),delete r[c]):+c<n&&(v.state=Lr,v.timer.stop(),v.on.call("cancel",t,t.__data__,v.index,v.group),delete r[c])}if(Aa(function(){e.state===Dr&&(e.state=Pa,e.timer.restart(u,e.delay,e.time),u(l))}),e.state=ro,e.on.call("start",t,t.__data__,e.index,e.group),e.state===ro){for(e.state=Dr,i=new Array(h=e.tween.length),c=0,f=-1;c<h;++c)(v=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(i[++f]=v);i.length=f+1}}function u(l){for(var c=l<e.duration?e.ease.call(null,l/e.duration):(e.timer.restart(s),e.state=io,1),f=-1,h=i.length;++f<h;)i[f].call(t,c);e.state===io&&(e.on.call("end",t,t.__data__,e.index,e.group),s())}function s(){e.state=Lr,e.timer.stop(),delete r[n];for(var l in r)return;delete t.__transition}}function l0(t,n){var e=t.__transition,r,i,o=!0,a;if(e){n=n==null?null:n+"";for(a in e){if((r=e[a]).name!==n){o=!1;continue}i=r.state>ro&&r.state<io,r.state=Lr,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[a]}o&&delete t.__transition}}function s0(t){return this.each(function(){l0(this,t)})}function f0(t,n){var e,r;return function(){var i=vn(this,t),o=i.tween;if(o!==e){r=e=o;for(var a=0,u=r.length;a<u;++a)if(r[a].name===n){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function c0(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var o=vn(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},s=0,l=i.length;s<l;++s)if(i[s].name===n){i[s]=u;break}s===l&&i.push(u)}o.tween=i}}function h0(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=en(this.node(),e).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((n==null?f0:c0)(e,t,n))}function Uo(t,n,e){var r=t._id;return t.each(function(){var i=vn(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return en(i,r).value[n]}}function gl(t,n){var e;return(typeof n=="number"?Kt:n instanceof te?Gr:(e=te(n))?(n=e,Gr):fl)(t,n)}function v0(t){return function(){this.removeAttribute(t)}}function p0(t){return function(){this.removeAttributeNS(t.space,t.local)}}function d0(t,n,e){var r,i=e+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=n(r=a,e)}}function _0(t,n,e){var r,i=e+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=n(r=a,e)}}function g0(t,n,e){var r,i,o;return function(){var a,u=e(this),s;return u==null?void this.removeAttribute(t):(a=this.getAttribute(t),s=u+"",a===s?null:a===r&&s===i?o:(i=s,o=n(r=a,u)))}}function m0(t,n,e){var r,i,o;return function(){var a,u=e(this),s;return u==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),s=u+"",a===s?null:a===r&&s===i?o:(i=s,o=n(r=a,u)))}}function y0(t,n){var e=mi(t),r=e==="transform"?t0:gl;return this.attrTween(t,typeof n=="function"?(e.local?m0:g0)(e,r,Uo(this,"attr."+t,n)):n==null?(e.local?p0:v0)(e):(e.local?_0:d0)(e,r,n))}function w0(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function x0(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function S0(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&x0(t,o)),e}return i._value=n,i}function E0(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&w0(t,o)),e}return i._value=n,i}function b0(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=mi(t);return this.tween(e,(r.local?S0:E0)(r,n))}function M0(t,n){return function(){Bo(this,t).delay=+n.apply(this,arguments)}}function k0(t,n){return n=+n,function(){Bo(this,t).delay=n}}function N0(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?M0:k0)(n,t)):en(this.node(),n).delay}function A0(t,n){return function(){vn(this,t).duration=+n.apply(this,arguments)}}function C0(t,n){return n=+n,function(){vn(this,t).duration=n}}function P0(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?A0:C0)(n,t)):en(this.node(),n).duration}function T0(t,n){if(typeof n!="function")throw new Error;return function(){vn(this,t).ease=n}}function R0(t){var n=this._id;return arguments.length?this.each(T0(n,t)):en(this.node(),n).ease}function $0(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;vn(this,t).ease=e}}function I0(t){if(typeof t!="function")throw new Error;return this.each($0(this._id,t))}function O0(t){typeof t!="function"&&(t=Qu(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,u=r[i]=[],s,l=0;l<a;++l)(s=o[l])&&t.call(s,s.__data__,l,o)&&u.push(s);return new yn(r,this._parents,this._name,this._id)}function D0(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s=n[u],l=e[u],c=s.length,f=a[u]=new Array(c),h,v=0;v<c;++v)(h=s[v]||l[v])&&(f[v]=h);for(;u<r;++u)a[u]=n[u];return new yn(a,this._parents,this._name,this._id)}function L0(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function F0(t,n,e){var r,i,o=L0(n)?Bo:vn;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}function q0(t,n){var e=this._id;return arguments.length<2?en(this.node(),e).on.on(t):this.each(F0(e,t,n))}function Y0(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function H0(){return this.on("end.remove",Y0(this._id))}function z0(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Fo(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u=r[a],s=u.length,l=o[a]=new Array(s),c,f,h=0;h<s;++h)(c=u[h])&&(f=t.call(c,c.__data__,h,u))&&("__data__"in c&&(f.__data__=c.__data__),l[h]=f,wi(l[h],n,e,h,l,en(c,e)));return new yn(o,this._parents,n,e)}function V0(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Ku(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var s=r[u],l=s.length,c,f=0;f<l;++f)if(c=s[f]){for(var h=t.call(c,c.__data__,f,s),v,p=en(c,e),g=0,_=h.length;g<_;++g)(v=h[g])&&wi(v,n,e,g,h,p);o.push(h),a.push(c)}return new yn(o,a,n,e)}var B0=gr.prototype.constructor;function U0(){return new B0(this._groups,this._parents)}function G0(t,n){var e,r,i;return function(){var o=Te(this,t),a=(this.style.removeProperty(t),Te(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}function ml(t){return function(){this.style.removeProperty(t)}}function X0(t,n,e){var r,i=e+"",o;return function(){var a=Te(this,t);return a===i?null:a===r?o:o=n(r=a,e)}}function W0(t,n,e){var r,i,o;return function(){var a=Te(this,t),u=e(this),s=u+"";return u==null&&(s=u=(this.style.removeProperty(t),Te(this,t))),a===s?null:a===r&&s===i?o:(i=s,o=n(r=a,u))}}function Z0(t,n){var e,r,i,o="style."+n,a="end."+o,u;return function(){var s=vn(this,t),l=s.on,c=s.value[o]==null?u||(u=ml(n)):void 0;(l!==e||i!==c)&&(r=(e=l).copy()).on(a,i=c),s.on=r}}function J0(t,n,e){var r=(t+="")=="transform"?jh:gl;return n==null?this.styleTween(t,G0(t,r)).on("end.style."+t,ml(t)):typeof n=="function"?this.styleTween(t,W0(t,r,Uo(this,"style."+t,n))).each(Z0(this._id,t)):this.styleTween(t,X0(t,r,n),e).on("end.style."+t,null)}function K0(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Q0(t,n,e){var r,i;function o(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&K0(t,a,e)),r}return o._value=n,o}function j0(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,Q0(t,n,e??""))}function tv(t){return function(){this.textContent=t}}function nv(t){return function(){var n=t(this);this.textContent=n??""}}function ev(t){return this.tween("text",typeof t=="function"?nv(Uo(this,"text",t)):tv(t==null?"":t+""))}function rv(t){return function(n){this.textContent=t.call(this,n)}}function iv(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&rv(i)),n}return r._value=t,r}function ov(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,iv(t))}function av(){for(var t=this._name,n=this._id,e=yl(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],u=a.length,s,l=0;l<u;++l)if(s=a[l]){var c=en(s,n);wi(s,t,e,l,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new yn(r,this._parents,t,e)}function uv(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(o,a){var u={value:a},s={value:function(){--i===0&&o()}};e.each(function(){var l=vn(this,r),c=l.on;c!==t&&(n=(t=c).copy(),n._.cancel.push(u),n._.interrupt.push(u),n._.end.push(s)),l.on=n}),i===0&&o()})}var lv=0;function yn(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function yl(){return++lv}var dn=gr.prototype;yn.prototype={constructor:yn,select:z0,selectAll:V0,selectChild:dn.selectChild,selectChildren:dn.selectChildren,filter:O0,merge:D0,selection:U0,transition:av,call:dn.call,nodes:dn.nodes,node:dn.node,size:dn.size,empty:dn.empty,each:dn.each,on:q0,attr:y0,attrTween:b0,style:J0,styleTween:j0,text:ev,textTween:ov,remove:H0,tween:h0,delay:N0,duration:P0,ease:R0,easeVarying:I0,end:uv,[Symbol.iterator]:dn[Symbol.iterator]};function sv(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var fv={time:null,delay:0,duration:250,ease:sv};function cv(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function hv(t){var n,e;t instanceof yn?(n=t._id,t=t._name):(n=yl(),(e=fv).time=Vo(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],u=a.length,s,l=0;l<u;++l)(s=a[l])&&wi(s,t,n,l,a,e||cv(s,n));return new yn(r,this._parents,t,n)}gr.prototype.interrupt=s0;gr.prototype.transition=hv;var Ta={},Pi={},Ti=34,He=10,Ri=13;function wl(t){return new Function("d","return {"+t.map(function(n,e){return JSON.stringify(n)+": d["+e+'] || ""'}).join(",")+"}")}function vv(t,n){var e=wl(t);return function(r,i){return n(e(r),i,t)}}function Ra(t){var n=Object.create(null),e=[];return t.forEach(function(r){for(var i in r)i in n||e.push(n[i]=i)}),e}function xt(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function pv(t){return t<0?"-"+xt(-t,6):t>9999?"+"+xt(t,6):xt(t,4)}function dv(t){var n=t.getUTCHours(),e=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":pv(t.getUTCFullYear())+"-"+xt(t.getUTCMonth()+1,2)+"-"+xt(t.getUTCDate(),2)+(i?"T"+xt(n,2)+":"+xt(e,2)+":"+xt(r,2)+"."+xt(i,3)+"Z":r?"T"+xt(n,2)+":"+xt(e,2)+":"+xt(r,2)+"Z":e||n?"T"+xt(n,2)+":"+xt(e,2)+"Z":"")}function _v(t){var n=new RegExp('["'+t+`
\r]`),e=t.charCodeAt(0);function r(f,h){var v,p,g=i(f,function(_,y){if(v)return v(_,y-1);p=_,v=h?vv(_,h):wl(_)});return g.columns=p||[],g}function i(f,h){var v=[],p=f.length,g=0,_=0,y,w=p<=0,m=!1;f.charCodeAt(p-1)===He&&--p,f.charCodeAt(p-1)===Ri&&--p;function S(){if(w)return Pi;if(m)return m=!1,Ta;var b,N=g,A;if(f.charCodeAt(N)===Ti){for(;g++<p&&f.charCodeAt(g)!==Ti||f.charCodeAt(++g)===Ti;);return(b=g)>=p?w=!0:(A=f.charCodeAt(g++))===He?m=!0:A===Ri&&(m=!0,f.charCodeAt(g)===He&&++g),f.slice(N+1,b-1).replace(/""/g,'"')}for(;g<p;){if((A=f.charCodeAt(b=g++))===He)m=!0;else if(A===Ri)m=!0,f.charCodeAt(g)===He&&++g;else if(A!==e)continue;return f.slice(N,b)}return w=!0,f.slice(N,p)}for(;(y=S())!==Pi;){for(var E=[];y!==Ta&&y!==Pi;)E.push(y),y=S();h&&(E=h(E,_++))==null||v.push(E)}return v}function o(f,h){return f.map(function(v){return h.map(function(p){return c(v[p])}).join(t)})}function a(f,h){return h==null&&(h=Ra(f)),[h.map(c).join(t)].concat(o(f,h)).join(`
`)}function u(f,h){return h==null&&(h=Ra(f)),o(f,h).join(`
`)}function s(f){return f.map(l).join(`
`)}function l(f){return f.map(c).join(t)}function c(f){return f==null?"":f instanceof Date?dv(f):n.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:a,formatBody:u,formatRows:s,formatRow:l,formatValue:c}}var gv=_v(","),mv=gv.parse;function yv(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function wv(t,n){return fetch(t,n).then(yv)}function xv(t){return function(n,e,r){return arguments.length===2&&typeof e=="function"&&(r=e,e=void 0),wv(n,e).then(function(i){return t(i,r)})}}var Sv=xv(mv);function Ev(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function bv(t,n){return fetch(t,n).then(Ev)}function Mv(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Jr(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function $e(t){return t=Jr(Math.abs(t)),t?t[1]:NaN}function kv(t,n){return function(e,r){for(var i=e.length,o=[],a=0,u=t[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),o.push(e.substring(i-=u,i+u)),!((s+=u+1)>r));)u=t[a=(a+1)%t.length];return o.reverse().join(n)}}function Nv(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var Av=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Kr(t){if(!(n=Av.exec(t)))throw new Error("invalid format: "+t);var n;return new Go({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}Kr.prototype=Go.prototype;function Go(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Go.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Cv(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var xl;function Pv(t,n){var e=Jr(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(xl=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Jr(t,Math.max(0,n+o-1))[0]}function $a(t,n){var e=Jr(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Ia={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Mv,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>$a(t*100,n),r:$a,s:Pv,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Oa(t){return t}var Da=Array.prototype.map,La=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Tv(t){var n=t.grouping===void 0||t.thousands===void 0?Oa:kv(Da.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Oa:Nv(Da.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function l(f){f=Kr(f);var h=f.fill,v=f.align,p=f.sign,g=f.symbol,_=f.zero,y=f.width,w=f.comma,m=f.precision,S=f.trim,E=f.type;E==="n"?(w=!0,E="g"):Ia[E]||(m===void 0&&(m=12),S=!0,E="g"),(_||h==="0"&&v==="=")&&(_=!0,h="0",v="=");var b=g==="$"?e:g==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",N=g==="$"?r:/[%p]/.test(E)?a:"",A=Ia[E],R=/[defgprs%]/.test(E);m=m===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m));function D(M){var L=b,$=N,I,x,T;if(E==="c")$=A(M)+$,M="";else{M=+M;var G=M<0||1/M<0;if(M=isNaN(M)?s:A(Math.abs(M),m),S&&(M=Cv(M)),G&&+M==0&&p!=="+"&&(G=!1),L=(G?p==="("?p:u:p==="-"||p==="("?"":p)+L,$=(E==="s"?La[8+xl/3]:"")+$+(G&&p==="("?")":""),R){for(I=-1,x=M.length;++I<x;)if(T=M.charCodeAt(I),48>T||T>57){$=(T===46?i+M.slice(I+1):M.slice(I))+$,M=M.slice(0,I);break}}}w&&!_&&(M=n(M,1/0));var Z=L.length+M.length+$.length,X=Z<y?new Array(y-Z+1).join(h):"";switch(w&&_&&(M=n(X+M,X.length?y-$.length:1/0),X=""),v){case"<":M=L+M+$+X;break;case"=":M=L+X+M+$;break;case"^":M=X.slice(0,Z=X.length>>1)+L+M+$+X.slice(Z);break;default:M=X+L+M+$;break}return o(M)}return D.toString=function(){return f+""},D}function c(f,h){var v=l((f=Kr(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor($e(h)/3)))*3,g=Math.pow(10,-p),_=La[8+p/3];return function(y){return v(g*y)+_}}return{format:l,formatPrefix:c}}var Mr,Sl,El;Rv({thousands:",",grouping:[3],currency:["$",""]});function Rv(t){return Mr=Tv(t),Sl=Mr.format,El=Mr.formatPrefix,Mr}function $v(t){return Math.max(0,-$e(Math.abs(t)))}function Iv(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor($e(n)/3)))*3-$e(Math.abs(t)))}function Ov(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,$e(n)-$e(t))+1}var Q=1e-6,z=Math.PI,Nt=z/2,Fa=z/4,Dt=z*2,It=180/z,it=z/180,tt=Math.abs,bl=Math.atan,ir=Math.atan2,et=Math.cos,Dv=Math.exp,Lv=Math.log,rt=Math.sin,Fv=Math.sign||function(t){return t>0?1:t<0?-1:0},se=Math.sqrt,qv=Math.tan;function Yv(t){return t>1?0:t<-1?z:Math.acos(t)}function or(t){return t>1?Nt:t<-1?-Nt:Math.asin(t)}function zt(){}function Qr(t,n){t&&Ya.hasOwnProperty(t.type)&&Ya[t.type](t,n)}var qa={Feature:function(t,n){Qr(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Qr(e[r].geometry,n)}},Ya={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){oo(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)oo(e[r],n,0)},Polygon:function(t,n){Ha(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Ha(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Qr(e[r],n)}};function oo(t,n,e){var r=-1,i=t.length-e,o;for(n.lineStart();++r<i;)o=t[r],n.point(o[0],o[1],o[2]);n.lineEnd()}function Ha(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)oo(t[e],n,1);n.polygonEnd()}function he(t,n){t&&qa.hasOwnProperty(t.type)?qa[t.type](t,n):Qr(t,n)}function ao(t){return[ir(t[1],t[0]),or(t[2])]}function Ie(t){var n=t[0],e=t[1],r=et(e);return[r*et(n),r*rt(n),rt(e)]}function kr(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function jr(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function $i(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Nr(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function uo(t){var n=se(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function lo(t,n){function e(r,i){return r=t(r,i),n(r[0],r[1])}return t.invert&&n.invert&&(e.invert=function(r,i){return r=n.invert(r,i),r&&t.invert(r[0],r[1])}),e}function so(t,n){return tt(t)>z&&(t-=Math.round(t/Dt)*Dt),[t,n]}so.invert=so;function Ml(t,n,e){return(t%=Dt)?n||e?lo(Va(t),Ba(n,e)):Va(t):n||e?Ba(n,e):so}function za(t){return function(n,e){return n+=t,tt(n)>z&&(n-=Math.round(n/Dt)*Dt),[n,e]}}function Va(t){var n=za(t);return n.invert=za(-t),n}function Ba(t,n){var e=et(t),r=rt(t),i=et(n),o=rt(n);function a(u,s){var l=et(s),c=et(u)*l,f=rt(u)*l,h=rt(s),v=h*e+c*r;return[ir(f*i-v*o,c*e-h*r),or(v*i+f*o)]}return a.invert=function(u,s){var l=et(s),c=et(u)*l,f=rt(u)*l,h=rt(s),v=h*i-f*o;return[ir(f*i+h*o,c*e+v*r),or(v*e-c*r)]},a}function Hv(t){t=Ml(t[0]*it,t[1]*it,t.length>2?t[2]*it:0);function n(e){return e=t(e[0]*it,e[1]*it),e[0]*=It,e[1]*=It,e}return n.invert=function(e){return e=t.invert(e[0]*it,e[1]*it),e[0]*=It,e[1]*=It,e},n}function zv(t,n,e,r,i,o){if(e){var a=et(n),u=rt(n),s=r*e;i==null?(i=n+r*Dt,o=n-s/2):(i=Ua(a,i),o=Ua(a,o),(r>0?i<o:i>o)&&(i+=r*Dt));for(var l,c=i;r>0?c>o:c<o;c-=s)l=ao([a,-u*et(c),-u*rt(c)]),t.point(l[0],l[1])}}function Ua(t,n){n=Ie(n),n[0]-=t,uo(n);var e=Yv(-n[1]);return((-n[2]<0?-e:e)+Dt-Q)%Dt}function kl(){var t=[],n;return{point:function(e,r,i){n.push([e,r,i])},lineStart:function(){t.push(n=[])},lineEnd:zt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function Fr(t,n){return tt(t[0]-n[0])<Q&&tt(t[1]-n[1])<Q}function Ar(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Nl(t,n,e,r,i){var o=[],a=[],u,s;if(t.forEach(function(p){if(!((g=p.length-1)<=0)){var g,_=p[0],y=p[g],w;if(Fr(_,y)){if(!_[2]&&!y[2]){for(i.lineStart(),u=0;u<g;++u)i.point((_=p[u])[0],_[1]);i.lineEnd();return}y[0]+=2*Q}o.push(w=new Ar(_,p,null,!0)),a.push(w.o=new Ar(_,null,w,!1)),o.push(w=new Ar(y,p,null,!1)),a.push(w.o=new Ar(y,null,w,!0))}}),!!o.length){for(a.sort(n),Ga(o),Ga(a),u=0,s=a.length;u<s;++u)a[u].e=e=!e;for(var l=o[0],c,f;;){for(var h=l,v=!0;h.v;)if((h=h.n)===l)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(v)for(u=0,s=c.length;u<s;++u)i.point((f=c[u])[0],f[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(v)for(c=h.p.z,u=c.length-1;u>=0;--u)i.point((f=c[u])[0],f[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,c=h.z,v=!v}while(!h.v);i.lineEnd()}}}function Ga(t){if(n=t.length){for(var n,e=0,r=t[0],i;++e<n;)r.n=i=t[e],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Ii(t){return tt(t[0])<=z?t[0]:Fv(t[0])*((tt(t[0])+z)%Dt-z)}function Vv(t,n){var e=Ii(n),r=n[1],i=rt(r),o=[rt(e),-et(e),0],a=0,u=0,s=new jn;i===1?r=Nt+Q:i===-1&&(r=-Nt-Q);for(var l=0,c=t.length;l<c;++l)if(h=(f=t[l]).length)for(var f,h,v=f[h-1],p=Ii(v),g=v[1]/2+Fa,_=rt(g),y=et(g),w=0;w<h;++w,p=S,_=b,y=N,v=m){var m=f[w],S=Ii(m),E=m[1]/2+Fa,b=rt(E),N=et(E),A=S-p,R=A>=0?1:-1,D=R*A,M=D>z,L=_*b;if(s.add(ir(L*R*rt(D),y*N+L*et(D))),a+=M?A+R*Dt:A,M^p>=e^S>=e){var $=jr(Ie(v),Ie(m));uo($);var I=jr(o,$);uo(I);var x=(M^A>=0?-1:1)*or(I[2]);(r>x||r===x&&($[0]||$[1]))&&(u+=M^A>=0?1:-1)}}return(a<-Q||a<Q&&s<-1e-12)^u&1}function Al(t,n,e,r){return function(i){var o=n(i),a=kl(),u=n(a),s=!1,l,c,f,h={point:v,lineStart:g,lineEnd:_,polygonStart:function(){h.point=y,h.lineStart=w,h.lineEnd=m,c=[],l=[]},polygonEnd:function(){h.point=v,h.lineStart=g,h.lineEnd=_,c=Wu(c);var S=Vv(l,r);c.length?(s||(i.polygonStart(),s=!0),Nl(c,Uv,S,e,i)):S&&(s||(i.polygonStart(),s=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),s&&(i.polygonEnd(),s=!1),c=l=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function v(S,E){t(S,E)&&i.point(S,E)}function p(S,E){o.point(S,E)}function g(){h.point=p,o.lineStart()}function _(){h.point=v,o.lineEnd()}function y(S,E){f.push([S,E]),u.point(S,E)}function w(){u.lineStart(),f=[]}function m(){y(f[0][0],f[0][1]),u.lineEnd();var S=u.clean(),E=a.result(),b,N=E.length,A,R,D;if(f.pop(),l.push(f),f=null,!!N){if(S&1){if(R=E[0],(A=R.length-1)>0){for(s||(i.polygonStart(),s=!0),i.lineStart(),b=0;b<A;++b)i.point((D=R[b])[0],D[1]);i.lineEnd()}return}N>1&&S&2&&E.push(E.pop().concat(E.shift())),c.push(E.filter(Bv))}}return h}}function Bv(t){return t.length>1}function Uv(t,n){return((t=t.x)[0]<0?t[1]-Nt-Q:Nt-t[1])-((n=n.x)[0]<0?n[1]-Nt-Q:Nt-n[1])}const Xa=Al(function(){return!0},Gv,Wv,[-z,-Nt]);function Gv(t){var n=NaN,e=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,a){var u=o>0?z:-z,s=tt(o-n);tt(s-z)<Q?(t.point(n,e=(e+a)/2>0?Nt:-Nt),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(u,e),t.point(o,e),i=0):r!==u&&s>=z&&(tt(n-r)<Q&&(n-=r*Q),tt(o-u)<Q&&(o-=u*Q),e=Xv(n,e,o,a),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(u,e),i=0),t.point(n=o,e=a),r=u},lineEnd:function(){t.lineEnd(),n=e=NaN},clean:function(){return 2-i}}}function Xv(t,n,e,r){var i,o,a=rt(t-e);return tt(a)>Q?bl((rt(n)*(o=et(r))*rt(e)-rt(r)*(i=et(n))*rt(t))/(i*o*a)):(n+r)/2}function Wv(t,n,e,r){var i;if(t==null)i=e*Nt,r.point(-z,i),r.point(0,i),r.point(z,i),r.point(z,0),r.point(z,-i),r.point(0,-i),r.point(-z,-i),r.point(-z,0),r.point(-z,i);else if(tt(t[0]-n[0])>Q){var o=t[0]<n[0]?z:-z;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}function Zv(t){var n=et(t),e=2*it,r=n>0,i=tt(n)>Q;function o(c,f,h,v){zv(v,t,e,h,c,f)}function a(c,f){return et(c)*et(f)>n}function u(c){var f,h,v,p,g;return{lineStart:function(){p=v=!1,g=1},point:function(_,y){var w=[_,y],m,S=a(_,y),E=r?S?0:l(_,y):S?l(_+(_<0?z:-z),y):0;if(!f&&(p=v=S)&&c.lineStart(),S!==v&&(m=s(f,w),(!m||Fr(f,m)||Fr(w,m))&&(w[2]=1)),S!==v)g=0,S?(c.lineStart(),m=s(w,f),c.point(m[0],m[1])):(m=s(f,w),c.point(m[0],m[1],2),c.lineEnd()),f=m;else if(i&&f&&r^S){var b;!(E&h)&&(b=s(w,f,!0))&&(g=0,r?(c.lineStart(),c.point(b[0][0],b[0][1]),c.point(b[1][0],b[1][1]),c.lineEnd()):(c.point(b[1][0],b[1][1]),c.lineEnd(),c.lineStart(),c.point(b[0][0],b[0][1],3)))}S&&(!f||!Fr(f,w))&&c.point(w[0],w[1]),f=w,v=S,h=E},lineEnd:function(){v&&c.lineEnd(),f=null},clean:function(){return g|(p&&v)<<1}}}function s(c,f,h){var v=Ie(c),p=Ie(f),g=[1,0,0],_=jr(v,p),y=kr(_,_),w=_[0],m=y-w*w;if(!m)return!h&&c;var S=n*y/m,E=-n*w/m,b=jr(g,_),N=Nr(g,S),A=Nr(_,E);$i(N,A);var R=b,D=kr(N,R),M=kr(R,R),L=D*D-M*(kr(N,N)-1);if(!(L<0)){var $=se(L),I=Nr(R,(-D-$)/M);if($i(I,N),I=ao(I),!h)return I;var x=c[0],T=f[0],G=c[1],Z=f[1],X;T<x&&(X=x,x=T,T=X);var Ct=T-x,wt=tt(Ct-z)<Q,Pt=wt||Ct<Q;if(!wt&&Z<G&&(X=G,G=Z,Z=X),Pt?wt?G+Z>0^I[1]<(tt(I[0]-x)<Q?G:Z):G<=I[1]&&I[1]<=Z:Ct>z^(x<=I[0]&&I[0]<=T)){var pt=Nr(R,(-D+$)/M);return $i(pt,N),[I,ao(pt)]}}}function l(c,f){var h=r?t:z-t,v=0;return c<-h?v|=1:c>h&&(v|=2),f<-h?v|=4:f>h&&(v|=8),v}return Al(a,u,o,r?[0,-t]:[-z,t-z])}function Jv(t,n,e,r,i,o){var a=t[0],u=t[1],s=n[0],l=n[1],c=0,f=1,h=s-a,v=l-u,p;if(p=e-a,!(!h&&p>0)){if(p/=h,h<0){if(p<c)return;p<f&&(f=p)}else if(h>0){if(p>f)return;p>c&&(c=p)}if(p=i-a,!(!h&&p<0)){if(p/=h,h<0){if(p>f)return;p>c&&(c=p)}else if(h>0){if(p<c)return;p<f&&(f=p)}if(p=r-u,!(!v&&p>0)){if(p/=v,v<0){if(p<c)return;p<f&&(f=p)}else if(v>0){if(p>f)return;p>c&&(c=p)}if(p=o-u,!(!v&&p<0)){if(p/=v,v<0){if(p>f)return;p>c&&(c=p)}else if(v>0){if(p<c)return;p<f&&(f=p)}return c>0&&(t[0]=a+c*h,t[1]=u+c*v),f<1&&(n[0]=a+f*h,n[1]=u+f*v),!0}}}}}var Ue=1e9,Cr=-Ue;function Kv(t,n,e,r){function i(l,c){return t<=l&&l<=e&&n<=c&&c<=r}function o(l,c,f,h){var v=0,p=0;if(l==null||(v=a(l,f))!==(p=a(c,f))||s(l,c)<0^f>0)do h.point(v===0||v===3?t:e,v>1?r:n);while((v=(v+f+4)%4)!==p);else h.point(c[0],c[1])}function a(l,c){return tt(l[0]-t)<Q?c>0?0:3:tt(l[0]-e)<Q?c>0?2:1:tt(l[1]-n)<Q?c>0?1:0:c>0?3:2}function u(l,c){return s(l.x,c.x)}function s(l,c){var f=a(l,1),h=a(c,1);return f!==h?f-h:f===0?c[1]-l[1]:f===1?l[0]-c[0]:f===2?l[1]-c[1]:c[0]-l[0]}return function(l){var c=l,f=kl(),h,v,p,g,_,y,w,m,S,E,b,N={point:A,lineStart:L,lineEnd:$,polygonStart:D,polygonEnd:M};function A(x,T){i(x,T)&&c.point(x,T)}function R(){for(var x=0,T=0,G=v.length;T<G;++T)for(var Z=v[T],X=1,Ct=Z.length,wt=Z[0],Pt,pt,Sn=wt[0],Wt=wt[1];X<Ct;++X)Pt=Sn,pt=Wt,wt=Z[X],Sn=wt[0],Wt=wt[1],pt<=r?Wt>r&&(Sn-Pt)*(r-pt)>(Wt-pt)*(t-Pt)&&++x:Wt<=r&&(Sn-Pt)*(r-pt)<(Wt-pt)*(t-Pt)&&--x;return x}function D(){c=f,h=[],v=[],b=!0}function M(){var x=R(),T=b&&x,G=(h=Wu(h)).length;(T||G)&&(l.polygonStart(),T&&(l.lineStart(),o(null,null,1,l),l.lineEnd()),G&&Nl(h,u,x,o,l),l.polygonEnd()),c=l,h=v=p=null}function L(){N.point=I,v&&v.push(p=[]),E=!0,S=!1,w=m=NaN}function $(){h&&(I(g,_),y&&S&&f.rejoin(),h.push(f.result())),N.point=A,S&&c.lineEnd()}function I(x,T){var G=i(x,T);if(v&&p.push([x,T]),E)g=x,_=T,y=G,E=!1,G&&(c.lineStart(),c.point(x,T));else if(G&&S)c.point(x,T);else{var Z=[w=Math.max(Cr,Math.min(Ue,w)),m=Math.max(Cr,Math.min(Ue,m))],X=[x=Math.max(Cr,Math.min(Ue,x)),T=Math.max(Cr,Math.min(Ue,T))];Jv(Z,X,t,n,e,r)?(S||(c.lineStart(),c.point(Z[0],Z[1])),c.point(X[0],X[1]),G||c.lineEnd(),b=!1):G&&(c.lineStart(),c.point(x,T),b=!1)}w=x,m=T,S=G}return N}}const fo=t=>t;var Oi=new jn,co=new jn,Cl,Pl,ho,vo,gn={point:zt,lineStart:zt,lineEnd:zt,polygonStart:function(){gn.lineStart=Qv,gn.lineEnd=tp},polygonEnd:function(){gn.lineStart=gn.lineEnd=gn.point=zt,Oi.add(tt(co)),co=new jn},result:function(){var t=Oi/2;return Oi=new jn,t}};function Qv(){gn.point=jv}function jv(t,n){gn.point=Tl,Cl=ho=t,Pl=vo=n}function Tl(t,n){co.add(vo*t-ho*n),ho=t,vo=n}function tp(){Tl(Cl,Pl)}var Oe=1/0,ti=Oe,ar=-Oe,ni=ar,ei={point:np,lineStart:zt,lineEnd:zt,polygonStart:zt,polygonEnd:zt,result:function(){var t=[[Oe,ti],[ar,ni]];return ar=ni=-(ti=Oe=1/0),t}};function np(t,n){t<Oe&&(Oe=t),t>ar&&(ar=t),n<ti&&(ti=n),n>ni&&(ni=n)}var po=0,_o=0,Ge=0,ri=0,ii=0,de=0,go=0,mo=0,Xe=0,Rl,$l,ln,sn,Yt={point:ee,lineStart:Wa,lineEnd:Za,polygonStart:function(){Yt.lineStart=ip,Yt.lineEnd=op},polygonEnd:function(){Yt.point=ee,Yt.lineStart=Wa,Yt.lineEnd=Za},result:function(){var t=Xe?[go/Xe,mo/Xe]:de?[ri/de,ii/de]:Ge?[po/Ge,_o/Ge]:[NaN,NaN];return po=_o=Ge=ri=ii=de=go=mo=Xe=0,t}};function ee(t,n){po+=t,_o+=n,++Ge}function Wa(){Yt.point=ep}function ep(t,n){Yt.point=rp,ee(ln=t,sn=n)}function rp(t,n){var e=t-ln,r=n-sn,i=se(e*e+r*r);ri+=i*(ln+t)/2,ii+=i*(sn+n)/2,de+=i,ee(ln=t,sn=n)}function Za(){Yt.point=ee}function ip(){Yt.point=ap}function op(){Il(Rl,$l)}function ap(t,n){Yt.point=Il,ee(Rl=ln=t,$l=sn=n)}function Il(t,n){var e=t-ln,r=n-sn,i=se(e*e+r*r);ri+=i*(ln+t)/2,ii+=i*(sn+n)/2,de+=i,i=sn*t-ln*n,go+=i*(ln+t),mo+=i*(sn+n),Xe+=i*3,ee(ln=t,sn=n)}function Ol(t){this._context=t}Ol.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Dt);break}}},result:zt};var yo=new jn,Di,Dl,Ll,We,Ze,ur={point:zt,lineStart:function(){ur.point=up},lineEnd:function(){Di&&Fl(Dl,Ll),ur.point=zt},polygonStart:function(){Di=!0},polygonEnd:function(){Di=null},result:function(){var t=+yo;return yo=new jn,t}};function up(t,n){ur.point=Fl,Dl=We=t,Ll=Ze=n}function Fl(t,n){We-=t,Ze-=n,yo.add(se(We*We+Ze*Ze)),We=t,Ze=n}let Ja,oi,Ka,Qa;class ja{constructor(n){this._append=n==null?ql:lp(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,e){switch(this._point){case 0:{this._append`M${n},${e}`,this._point=1;break}case 1:{this._append`L${n},${e}`;break}default:{if(this._append`M${n},${e}`,this._radius!==Ka||this._append!==oi){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Ka=r,oi=this._append,Qa=this._,this._=i}this._+=Qa;break}}}result(){const n=this._;return this._="",n.length?n:null}}function ql(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function lp(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return ql;if(n!==Ja){const e=10**n;Ja=n,oi=function(i){let o=1;this._+=i[0];for(const a=i.length;o<a;++o)this._+=Math.round(arguments[o]*e)/e+i[o]}}return oi}function sp(t,n){let e=3,r=4.5,i,o;function a(u){return u&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),he(u,i(o))),o.result()}return a.area=function(u){return he(u,i(gn)),gn.result()},a.measure=function(u){return he(u,i(ur)),ur.result()},a.bounds=function(u){return he(u,i(ei)),ei.result()},a.centroid=function(u){return he(u,i(Yt)),Yt.result()},a.projection=function(u){return arguments.length?(i=u==null?(t=null,fo):(t=u).stream,a):t},a.context=function(u){return arguments.length?(o=u==null?(n=null,new ja(e)):new Ol(n=u),typeof r!="function"&&o.pointRadius(r),a):n},a.pointRadius=function(u){return arguments.length?(r=typeof u=="function"?u:(o.pointRadius(+u),+u),a):r},a.digits=function(u){if(!arguments.length)return e;if(u==null)e=null;else{const s=Math.floor(u);if(!(s>=0))throw new RangeError(`invalid digits: ${u}`);e=s}return n===null&&(o=new ja(e)),a},a.projection(t).digits(e).context(n)}function Xo(t){return function(n){var e=new wo;for(var r in t)e[r]=t[r];return e.stream=n,e}}function wo(){}wo.prototype={constructor:wo,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Wo(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),he(e,t.stream(ei)),n(ei.result()),r!=null&&t.clipExtent(r),t}function Yl(t,n,e){return Wo(t,function(r){var i=n[1][0]-n[0][0],o=n[1][1]-n[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),u=+n[0][0]+(i-a*(r[1][0]+r[0][0]))/2,s=+n[0][1]+(o-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([u,s])},e)}function fp(t,n,e){return Yl(t,[[0,0],n],e)}function cp(t,n,e){return Wo(t,function(r){var i=+n,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,u=-o*r[0][1];t.scale(150*o).translate([a,u])},e)}function hp(t,n,e){return Wo(t,function(r){var i=+n,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],u=(i-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([a,u])},e)}var tu=16,vp=et(30*it);function nu(t,n){return+n?dp(t,n):pp(t)}function pp(t){return Xo({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function dp(t,n){function e(r,i,o,a,u,s,l,c,f,h,v,p,g,_){var y=l-r,w=c-i,m=y*y+w*w;if(m>4*n&&g--){var S=a+h,E=u+v,b=s+p,N=se(S*S+E*E+b*b),A=or(b/=N),R=tt(tt(b)-1)<Q||tt(o-f)<Q?(o+f)/2:ir(E,S),D=t(R,A),M=D[0],L=D[1],$=M-r,I=L-i,x=w*$-y*I;(x*x/m>n||tt((y*$+w*I)/m-.5)>.3||a*h+u*v+s*p<vp)&&(e(r,i,o,a,u,s,M,L,R,S/=N,E/=N,b,g,_),_.point(M,L),e(M,L,R,S,E,b,l,c,f,h,v,p,g,_))}}return function(r){var i,o,a,u,s,l,c,f,h,v,p,g,_={point:y,lineStart:w,lineEnd:S,polygonStart:function(){r.polygonStart(),_.lineStart=E},polygonEnd:function(){r.polygonEnd(),_.lineStart=w}};function y(A,R){A=t(A,R),r.point(A[0],A[1])}function w(){f=NaN,_.point=m,r.lineStart()}function m(A,R){var D=Ie([A,R]),M=t(A,R);e(f,h,c,v,p,g,f=M[0],h=M[1],c=A,v=D[0],p=D[1],g=D[2],tu,r),r.point(f,h)}function S(){_.point=y,r.lineEnd()}function E(){w(),_.point=b,_.lineEnd=N}function b(A,R){m(i=A,R),o=f,a=h,u=v,s=p,l=g,_.point=m}function N(){e(f,h,c,v,p,g,o,a,i,u,s,l,tu,r),_.lineEnd=S,S()}return _}}var _p=Xo({point:function(t,n){this.stream.point(t*it,n*it)}});function gp(t){return Xo({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}function mp(t,n,e,r,i){function o(a,u){return a*=r,u*=i,[n+t*a,e-t*u]}return o.invert=function(a,u){return[(a-n)/t*r,(e-u)/t*i]},o}function eu(t,n,e,r,i,o){if(!o)return mp(t,n,e,r,i);var a=et(o),u=rt(o),s=a*t,l=u*t,c=a/t,f=u/t,h=(u*e-a*n)/t,v=(u*n+a*e)/t;function p(g,_){return g*=r,_*=i,[s*g-l*_+n,e-l*g-s*_]}return p.invert=function(g,_){return[r*(c*g-f*_+h),i*(v-f*g-c*_)]},p}function yp(t){return wp(function(){return t})()}function wp(t){var n,e=150,r=480,i=250,o=0,a=0,u=0,s=0,l=0,c,f=0,h=1,v=1,p=null,g=Xa,_=null,y,w,m,S=fo,E=.5,b,N,A,R,D;function M(x){return A(x[0]*it,x[1]*it)}function L(x){return x=A.invert(x[0],x[1]),x&&[x[0]*It,x[1]*It]}M.stream=function(x){return R&&D===x?R:R=_p(gp(c)(g(b(S(D=x)))))},M.preclip=function(x){return arguments.length?(g=x,p=void 0,I()):g},M.postclip=function(x){return arguments.length?(S=x,_=y=w=m=null,I()):S},M.clipAngle=function(x){return arguments.length?(g=+x?Zv(p=x*it):(p=null,Xa),I()):p*It},M.clipExtent=function(x){return arguments.length?(S=x==null?(_=y=w=m=null,fo):Kv(_=+x[0][0],y=+x[0][1],w=+x[1][0],m=+x[1][1]),I()):_==null?null:[[_,y],[w,m]]},M.scale=function(x){return arguments.length?(e=+x,$()):e},M.translate=function(x){return arguments.length?(r=+x[0],i=+x[1],$()):[r,i]},M.center=function(x){return arguments.length?(o=x[0]%360*it,a=x[1]%360*it,$()):[o*It,a*It]},M.rotate=function(x){return arguments.length?(u=x[0]%360*it,s=x[1]%360*it,l=x.length>2?x[2]%360*it:0,$()):[u*It,s*It,l*It]},M.angle=function(x){return arguments.length?(f=x%360*it,$()):f*It},M.reflectX=function(x){return arguments.length?(h=x?-1:1,$()):h<0},M.reflectY=function(x){return arguments.length?(v=x?-1:1,$()):v<0},M.precision=function(x){return arguments.length?(b=nu(N,E=x*x),I()):se(E)},M.fitExtent=function(x,T){return Yl(M,x,T)},M.fitSize=function(x,T){return fp(M,x,T)},M.fitWidth=function(x,T){return cp(M,x,T)},M.fitHeight=function(x,T){return hp(M,x,T)};function $(){var x=eu(e,0,0,h,v,f).apply(null,n(o,a)),T=eu(e,r-x[0],i-x[1],h,v,f);return c=Ml(u,s,l),N=lo(n,T),A=lo(c,N),b=nu(N,E),I()}function I(){return R=D=null,M}return function(){return n=t.apply(this,arguments),M.invert=n.invert&&L,$()}}function Zo(t,n){return[t,Lv(qv((Nt+n)/2))]}Zo.invert=function(t,n){return[t,2*bl(Dv(n))-Nt]};function xp(){return Sp(Zo).scale(961/Dt)}function Sp(t){var n=yp(t),e=n.center,r=n.scale,i=n.translate,o=n.clipExtent,a=null,u,s,l;n.scale=function(f){return arguments.length?(r(f),c()):r()},n.translate=function(f){return arguments.length?(i(f),c()):i()},n.center=function(f){return arguments.length?(e(f),c()):e()},n.clipExtent=function(f){return arguments.length?(f==null?a=u=s=l=null:(a=+f[0][0],u=+f[0][1],s=+f[1][0],l=+f[1][1]),c()):a==null?null:[[a,u],[s,l]]};function c(){var f=z*r(),h=n(Hv(n.rotate()).invert([0,0]));return o(a==null?[[h[0]-f,h[1]-f],[h[0]+f,h[1]+f]]:t===Zo?[[Math.max(h[0]-f,a),u],[Math.min(h[0]+f,s),l]]:[[a,Math.max(h[1]-f,u)],[s,Math.min(h[1]+f,l)]])}return c()}function Hl(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}const ru=Symbol("implicit");function zl(){var t=new Ji,n=[],e=[],r=ru;function i(o){let a=t.get(o);if(a===void 0){if(r!==ru)return r;t.set(o,a=n.push(o)-1)}return e[a%e.length]}return i.domain=function(o){if(!arguments.length)return n.slice();n=[],t=new Ji;for(const a of o)t.has(a)||t.set(a,n.push(a)-1);return i},i.range=function(o){return arguments.length?(e=Array.from(o),i):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return zl(n,e).unknown(r)},Hl.apply(i,arguments),i}function Ep(t){return function(){return t}}function bp(t){return+t}var iu=[0,1];function _e(t){return t}function xo(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:Ep(isNaN(n)?NaN:.5)}function Mp(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function kp(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=xo(i,r),o=e(a,o)):(r=xo(r,i),o=e(o,a)),function(u){return o(r(u))}}function Np(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=xo(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(u){var s=If(t,u,1,r)-1;return o[s](i[s](u))}}function Ap(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Cp(){var t=iu,n=iu,e=zo,r,i,o,a=_e,u,s,l;function c(){var h=Math.min(t.length,n.length);return a!==_e&&(a=Mp(t[0],t[h-1])),u=h>2?Np:kp,s=l=null,f}function f(h){return h==null||isNaN(h=+h)?o:(s||(s=u(t.map(r),n,e)))(r(a(h)))}return f.invert=function(h){return a(i((l||(l=u(n,t.map(r),Kt)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,bp),c()):t.slice()},f.range=function(h){return arguments.length?(n=Array.from(h),c()):n.slice()},f.rangeRound=function(h){return n=Array.from(h),e=Jh,c()},f.clamp=function(h){return arguments.length?(a=h?!0:_e,c()):a!==_e},f.interpolate=function(h){return arguments.length?(e=h,c()):e},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,v){return r=h,i=v,c()}}function Pp(){return Cp()(_e,_e)}function Tp(t,n,e,r){var i=Vf(t,n,e),o;switch(r=Kr(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(o=Iv(i,a))&&(r.precision=o),El(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Ov(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=$v(i))&&(r.precision=o-(r.type==="%")*2);break}}return Sl(r)}function Rp(t){var n=t.domain;return t.ticks=function(e){var r=n();return zf(r[0],r[r.length-1],e??10)},t.tickFormat=function(e,r){var i=n();return Tp(i[0],i[i.length-1],e??10,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,o=r.length-1,a=r[i],u=r[o],s,l,c=10;for(u<a&&(l=a,a=u,u=l,l=i,i=o,o=l);c-- >0;){if(l=Ki(a,u,e),l===s)return r[i]=a,r[o]=u,n(r);if(l>0)a=Math.floor(a/l)*l,u=Math.ceil(u/l)*l;else if(l<0)a=Math.ceil(a*l)/l,u=Math.floor(u*l)/l;else break;s=l}return t},t}function ai(){var t=Pp();return t.copy=function(){return Ap(t,ai())},Hl.apply(t,arguments),Rp(t)}function Je(t,n,e){this.k=t,this.x=n,this.y=e}Je.prototype={constructor:Je,scale:function(t){return t===1?this:new Je(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new Je(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Je.prototype;async function $p(t){return await Sv(t)}async function Ip(t){const n=t.map(r=>$p(r));return await Promise.all(n)}async function Op(t){return await bv(t)}async function Dp(t){const n=t.map(r=>Op(r));return await Promise.all(n)}const ou={Jan:0,January:0,Feb:1,February:1,Mar:2,March:2,Apr:3,April:3,May:4,Jun:5,June:5,Jul:6,July:6,Aug:7,August:7,Sep:8,Sept:8,September:8,Oct:9,October:9,Nov:10,November:10,Dec:11,December:11},Vl=10;function Li(t){const n=Vl;return`M${-n/2},0 L0,${-t} L${n/2},0 Z`}function Fi(t,n=45){const e=Vl,r=n*Math.PI/180,i=-e/2,o=0,a=0,u=-t,s=e/2,l=-5;function c(y,w){const m=y*Math.cos(r)-w*Math.sin(r),S=y*Math.sin(r)+w*Math.cos(r);return[m,S]}const[f,h]=c(i,o),[v,p]=c(a,u),[g,_]=c(s,l);return`M${f},${h} L${v},${p} L${g},${_} Z`}var Lp=vt('<g><line x1="0" y1="0" x2="0" stroke="#a6a6a6" stroke-width="2" stroke-opacity="1"></line><line x1="0" x2="0" stroke="black" stroke-width="3"></line><circle cx="0" stroke="black" stroke-width="0.5"><title> </title></circle><line x1="-10" x2="10" stroke="gray" stroke-width="1"></line></g>'),Fp=vt('<text font-size="10" font-weight="500" font-family="Montserrat"> </text>'),qp=vt("<!><!>",1);function Yp(t,n){ae(n,!1);let e=j(n,"aggregatedLocations",8);j(n,"heightScale",8);let r=j(n,"colorScale",8),i=j(n,"indy_locs",8);const o=70,a=3.5;function u(f){return o-(f-1)/4*o}Fe();var s=qp(),l=bt(s);Gt(l,1,e,Ut,(f,h)=>{var v=Qn(),p=bt(v);{var g=_=>{var y=Lp(),w=J(y);P(w,"y2",o);var m=W(w);P(m,"y1",o);var S=W(m);P(S,"r",a);var E=J(S),b=J(E),N=W(S);P(N,"y1",o),P(N,"y2",o),gt((A,R,D,M,L)=>{P(y,"transform",A),P(m,"y2",R),P(S,"cy",D),P(S,"fill",M),Ht(b,`Score: ${L??""}`)},[()=>(d(h),C(()=>`translate(${d(h).x+(["Yirol East","Gogrial West"].includes(d(h).adm2)?20:0)},
            ${d(h).y-o+(["Yirol East","Gogrial West"].includes(d(h).adm2)?-10:0)})`)),()=>(d(h),C(()=>u(d(h).meanScore))),()=>(d(h),C(()=>u(d(h).meanScore))),()=>(Et(r()),d(h),C(()=>r()(d(h).poc))),()=>(d(h),C(()=>d(h).meanScore.toFixed(2)))]),K(_,y)};mn(p,_=>{d(h),C(()=>d(h).x&&d(h).y&&d(h).meanScore!=null)&&_(g)})}K(f,v)});var c=W(l);Gt(c,1,i,Ut,(f,h)=>{var v=Fp(),p=J(v);gt((g,_,y)=>{P(v,"x",g),P(v,"y",_),P(v,"text-anchor",y),P(v,"fill",(d(h),C(()=>(d(h).env=="IDP Camp","black")))),Ht(p,(d(h),C(()=>d(h)[0])))},[()=>(d(h),C(()=>d(h)[1][0].x-2.5+(["Yirol East","Gogrial West"].includes(d(h)[0])?10:0))),()=>(d(h),C(()=>d(h)[1][0].y+(["Yirol East","Gogrial West"].includes(d(h)[0])?0:10))),()=>(d(h),C(()=>["Yirol East","Gogrial West"].includes(d(h)[0])?"start":"middle"))]),K(f,v)}),K(t,s),ue()}var Hp=vt("<path></path>"),zp=vt('<!><g transform="translate(20, 400)" font-family="Montserrat" font-weight="500" font-size="12"><g><rect x="0" y="0" width="20" height="14" fill="white" stroke="black" stroke-width="0.5" rx="2"></rect><text x="30" y="10" dominant-baseline="middle" fill="black">POC</text></g><g transform="translate(0, 20)"><rect x="0" y="0" width="20" height="14" fill="gray" stroke="black" stroke-width="0.5" rx="2"></rect><text x="30" y="10" dominant-baseline="middle" fill="black">IDP</text></g><g transform="translate(0, 40)"><rect x="0" y="0" width="20" height="14" fill="black" stroke="black" stroke-width="0.5" rx="2"></rect><text x="30" y="10" dominant-baseline="middle" fill="black" font-family="Montserrat">Other</text></g></g>',1);function Vp(t,n){ae(n,!1);let e=j(n,"polygon_data",8);j(n,"geo_data",8);let r=j(n,"pathGenerator",8);Fe();var i=zp(),o=bt(i);Gt(o,1,e,Ut,(a,u)=>{var s=Hp();gt(l=>{P(s,"d",l),P(s,"stroke",(d(u),C(()=>(d(u).properties.ADMIN==="South Sudan","gray")))),P(s,"fill",(d(u),C(()=>d(u).properties.ADMIN==="South Sudan"?"white":"#f2f2f2")))},[()=>(Et(r()),d(u),C(()=>r()(d(u))))]),K(a,s)}),K(t,i),ue()}var Bp=vt('<path fill="gray" fill-opacity="0.5"></path>'),Up=vt('<path fill-opacity="1" stroke="black" stroke-width="0.5"><title> </title></path>'),Gp=vt('<text font-size="10" font-weight="500" font-family="Montserrat"> </text>'),Xp=vt("<!><!><!>",1);function Wp(t,n){ae(n,!1);let e=j(n,"aggregatedLocations",8),r=j(n,"heightScale",8),i=j(n,"colorScale",8),o=j(n,"spike",8),a=j(n,"angledSpike",8),u=j(n,"indy_locs",8);Fe();var s=Xp(),l=bt(s);Gt(l,1,e,Ut,(h,v)=>{var p=Qn(),g=bt(p);{var _=y=>{var w=Bp();gt((m,S)=>{P(w,"d",m),P(w,"transform",S)},[()=>(Et(a()),Et(r()),d(v),C(()=>a()(r()(d(v).meanScore),45))),()=>(d(v),C(()=>`translate(${d(v).x+(["Yirol East"].includes(d(v).adm2)?10:0)},${d(v).y-(["Yirol East"].includes(d(v).adm2)?10:0)})`))]),K(y,w)};mn(g,y=>{d(v),C(()=>d(v).x&&d(v).y&&d(v).meanScore!=null)&&y(_)})}K(h,p)});var c=W(l);Gt(c,1,e,Ut,(h,v)=>{var p=Qn(),g=bt(p);{var _=y=>{var w=Up(),m=J(w),S=J(m);gt((E,b,N)=>{P(w,"d",E),P(w,"transform",b),P(w,"fill",N),Ht(S,`mean: ${d(v),C(()=>d(v).meanScore)??""}`)},[()=>(Et(o()),Et(r()),d(v),C(()=>o()(r()(d(v).meanScore)))),()=>(d(v),C(()=>`translate(${d(v).x+(["Yirol East"].includes(d(v).adm2)?10:0)},${d(v).y-(["Yirol East"].includes(d(v).adm2)?10:0)})`)),()=>(Et(i()),d(v),C(()=>i()(d(v).poc)))]),K(y,w)};mn(g,y=>{d(v),C(()=>d(v).x&&d(v).y&&d(v).meanScore!=null)&&y(_)})}K(h,p)});var f=W(c);Gt(f,1,u,Ut,(h,v)=>{var p=Gp(),g=J(p);gt((_,y,w)=>{P(p,"x",_),P(p,"y",y),P(p,"text-anchor",w),P(p,"fill",(d(v),C(()=>(d(v).env=="IDP Camp","black")))),Ht(g,(d(v),C(()=>d(v)[0])))},[()=>(d(v),C(()=>d(v)[1][0].x-2.5+(["Yirol East"].includes(d(v)[0])?10:0))),()=>(d(v),C(()=>d(v)[1][0].y+(["Yirol East"].includes(d(v)[0])?0:10))),()=>(d(v),C(()=>["Yirol East"].includes(d(v)[0])?"start":"middle"))]),K(h,p)}),K(t,s),ue()}var Zp=vt('<g><path fill-opacity="1" stroke="black" stroke-width="0.5"><title> </title></path><g><text text-anchor="start" font-family="Montserrat" font-size="10px"> </text></g></g>'),Jp=vt('<g><line x1="0" y1="0" x2="0" stroke="#a6a6a6" stroke-width="2" stroke-opacity="1"></line><text x="0" y="-2" transform="rotate(-45)" font-family="Montserrat" font-size="10px"> </text><line x1="0" x2="0" stroke="black" stroke-width="3"></line><circle cx="0" stroke="black" stroke-width="0.5"><title> </title></circle><line x1="-10" x2="10" stroke="gray" stroke-width="1"></line></g>'),Kp=vt('<!><line x1="10" x2="470" stroke="gray" stroke-width="1" stroke-opacity="0.5" stroke-dasharray="10 5"></line>',1),Qp=Lo('<div class="sorted svelte-1lsgmza"><svg><!></svg></div>');function jp(t,n){ae(n,!1);let e=j(n,"aggregatedLocations",8),r=j(n,"colorScale",8),i=j(n,"height",8),o=j(n,"width",8),a=j(n,"current_mean",8),u=j(n,"heightScale",8),s=j(n,"spike",8);j(n,"angledSpike",8);const l=70,c=3.5;function f(y){return l-(y-1)/4*l}$r(()=>Et(e()),()=>{console.log(e())}),Au(),Fe();var h=Qp(),v=J(h),p=J(v);{var g=y=>{var w=Qn(),m=bt(w);Gt(m,1,e,Ut,(S,E,b)=>{var N=Zp();P(N,"transform",`translate(${(b+2)*15}, 150)`);var A=J(N);P(A,"transform","translate(0, 0)");var R=J(A),D=J(R),M=W(A),L=J(M),$=J(L);gt((I,x,T)=>{P(A,"d",I),P(A,"fill",x),Ht(D,`mean: ${d(E),C(()=>d(E).meanScore)??""}`),P(M,"transform",T),Ht($,(d(E),C(()=>d(E).adm2)))},[()=>(Et(s()),Et(u()),d(E),C(()=>s()(u()(d(E).meanScore)))),()=>(Et(r()),d(E),C(()=>r()(d(E).poc))),()=>(Et(u()),d(E),C(()=>`translate(0, ${-u()(d(E).meanScore)-2}) rotate(-45)`))]),K(S,N)}),K(y,w)},_=y=>{var w=Kp(),m=bt(w);Gt(m,1,e,Ut,(E,b,N)=>{var A=Jp();P(A,"transform",`translate(${(N+2)*15}, 80)`);var R=J(A);P(R,"y2",l);var D=W(R),M=J(D),L=W(D);P(L,"y1",l);var $=W(L);P($,"r",c);var I=J($),x=J(I),T=W($);P(T,"y1",l),P(T,"y2",l),gt((G,Z,X,Ct)=>{Ht(M,(d(b),C(()=>d(b).adm2))),P(L,"y2",G),P($,"cy",Z),P($,"fill",X),Ht(x,`Score: ${Ct??""}`)},[()=>(d(b),C(()=>f(d(b).meanScore))),()=>(d(b),C(()=>f(d(b).meanScore))),()=>(Et(r()),d(b),C(()=>r()(d(b).poc))),()=>(d(b),C(()=>d(b).meanScore.toFixed(2)))]),K(E,A)});var S=W(m);P(S,"y1",80+l/2),P(S,"y2",80+l/2),K(y,w)};mn(p,y=>{a()=="Sec_Gunshots_Now_N"?y(g):y(_,!1)})}gt(()=>{P(v,"width",o()),P(v,"height",i())}),K(t,h),ue()}var td=vt(' <rect stroke="none"></rect>',1),nd=vt(" <!>",1),ed=vt('<text font-size="10" font-weight="500" font-family="Montserrat"> </text>'),rd=vt("<!><!>",1);function id(t,n){ae(n,!1);let e=j(n,"test",8),r=j(n,"indy_locs",8);ai().domain([0,1e3]).range([0,50]);const i=Bf(e().flatMap(c=>c.filteredVisionCounts.map(f=>f.count))),o=ai().domain([0,i]).range([0,40]),a={POC:1,IDP:-1,Other:1};Fe();var u=rd(),s=bt(u);Gt(s,1,e,Ut,(c,f)=>{var h=Qn(),v=bt(h);{var p=g=>{var _=nd(),y=bt(_,!0),w=W(y);Gt(w,1,()=>(d(f),C(()=>d(f).filteredVisionCounts)),Ut,(m,S,E)=>{var b=td(),N=bt(b,!0),A=W(N);P(A,"height",5),gt((R,D,M)=>{Ht(N,R),P(A,"x",D),P(A,"y",(d(f),C(()=>d(f).y-5-E*7))),P(A,"width",M),P(A,"fill",(d(f),C(()=>d(f).poc==="IDP"?"gray":"black")))},[()=>(d(S),C(()=>console.log(d(S)))),()=>(d(f),d(S),C(()=>d(f).x+(a[d(f).poc]===1?-5:-o(d(S).count)))),()=>(d(S),C(()=>o(d(S).count)))]),K(m,b)}),gt(m=>Ht(y,m),[()=>(d(f),C(()=>console.log(d(f))))]),K(g,_)};mn(v,g=>{d(f),C(()=>d(f).x&&d(f).y)&&g(p)})}K(c,h)});var l=W(s);Gt(l,1,r,Ut,(c,f)=>{var h=ed(),v=J(h);gt((p,g,_)=>{P(h,"x",p),P(h,"y",g),P(h,"text-anchor",_),P(h,"fill",(d(f),C(()=>(d(f).env=="IDP Camp","black")))),Ht(v,(d(f),C(()=>d(f)[0])))},[()=>(d(f),C(()=>d(f)[1][0].x-2.5+(["Yirol East","Gogrial West"].includes(d(f)[0])?10:0))),()=>(d(f),C(()=>d(f)[1][0].y+(["Yirol East","Gogrial West"].includes(d(f)[0])?0:10))),()=>(d(f),C(()=>["Yirol East","Gogrial West"].includes(d(f)[0])?"start":"middle"))]),K(c,h)}),K(t,u),ue()}var od=Lo(`<button style="font-family: 'Montserrat';" class="svelte-1n46o8q"> </button>`),ad=Lo('<main class="svelte-1n46o8q"><div class="environment_buttons svelte-1n46o8q"><label for="envSelect" class="svelte-1n46o8q">Environment</label> <select id="envSelect" class="svelte-1n46o8q"><option>POC+IDP</option><option>POC</option><option>IDP</option><option>Other</option><option>All</option></select></div> <div class="dropdown svelte-1n46o8q"><div class="button svelte-1n46o8q"></div> <div class="menu svelte-1n46o8q"></div></div> <button class="guns_button svelte-1n46o8q">Gunshots</button> <button class="politics_button svelte-1n46o8q">Politics</button>  <div class="map svelte-1n46o8q"><svg><!><!></svg> <!></div></main>');function ud(t,n){ae(n,!1);const e=dt(),r=dt();let i=dt(),o=dt(),a=dt(),u,s=dt(),l=dt(),c=dt(),f=dt([]),h=dt(),v=dt(),p=["./data/survey.csv"],g=["./data/unique_prio_grids.json","./data/country_polygons.json"],_=dt("all");Af(async()=>{const q=await Ip(p);U(a,q[0]),u=q[0],Ni(d(a),Tt=>Tt.Wave).map(([Tt,Rt])=>{const ut=Rt[0],pn=+ut.wave_year,Ln=ou[ut.wave_month_start],Fn=ou[ut.wave_month_end],qn=new Date(pn,Ln,1),lt=new Date(pn,Fn+1,0);return{wave:Tt,start:qn,end:lt}});const V=await Dp(g);U(s,V[0].features),U(f,V[1].features)});let y=dt("overall_sec_mean_score"),w=ai().domain([1,5]).range([120,2]);const m=zl().domain(["POC","IDP","Other"]).range(["white","gray","black"]);function S(q){w.domain([1,5]).range([120,2]),U(y,"overall_sec_mean_score");let H;q=="poc"?H=u.filter(V=>V.poc=="POC"):q=="idp"?H=u.filter(V=>V.poc=="IDP"):q=="oth"?H=u.filter(V=>V.poc=="Other"):q=="poc_idp"?H=u.filter(V=>V.poc=="POC"||V.poc=="IDP"):H=u,U(a,H)}function E(q){w.domain([1,5]).range([120,2]);let H=u;q=="road"?U(y,"Sec_Roads_Now_N"):q=="countryside"?U(y,"Sec_Countryside_Now_N"):q=="neighbour"?U(y,"Sec_Nbr_Now_N"):q=="buy"?U(y,"Sec_Buy_Now_N"):q=="culture"?U(y,"Sec_Cul_Now_N"):q=="overall"&&U(y,"overall_sec_mean_score"),U(a,H)}function b(){U(a,u),w.domain([1,3]).range([2,80]),U(y,"Sec_Gunshots_Now_N")}let N=dt();function A(){U(y,"test"),U(N,d(v).flatMap(([q,H])=>{const V=H.length;return H.map(([Tt,Rt],ut)=>{const pn=Rt.map(ot=>+ot[d(y)]).filter(ot=>ot&&!isNaN(ot)),Ln=da(pn),Fn=+Rt[0].central_latitude,qn=+Rt[0].central_longitude,lt=d(e)([qn,Fn]),En=Rt[0].environment_type,Qo=(ut-(V-1)/2)*9,xi=(lt==null?void 0:lt[0])+Qo,Si=lt==null?void 0:lt[1],Ei=Ff(Rt.filter(ot=>ot.Party_Vision&&ot.Party_Vision.trim()!==""),ot=>ot.length,ot=>ot.Party_Vision),fe=Array.from(Ei,([ot,qe])=>({Party_Vision:ot,count:qe})).sort((ot,qe)=>Bu(ot.count,qe.count)),bi=["Sudan Peoples Liberation Movement In Government (SPLM-IG)","Sudan Peoples Liberation Movement In Opposition (SPLM-IO)","None of the parties","South Sudan Opposition Alliance (SSOA)"],Wl=new Set(bi),Zl=fe.filter(ot=>Wl.has(ot.Party_Vision)).sort((ot,qe)=>bi.indexOf(ot.Party_Vision)-bi.indexOf(qe.Party_Vision));return{adm2:q,poc:Tt,env:En,x:xi,y:Si,meanScore:Ln,filteredVisionCounts:Zl}})}))}const R=[{value:"overall",label:"Overall"},{value:"road",label:"Roads"},{value:"countryside",label:"Countryside"},{value:"buy",label:"Shopping"},{value:"neighbour",label:"Neighbour"},{value:"culture",label:"Cultural Events"}];function D(q){E(q)}$r(()=>(d(i),d(o)),()=>{U(e,xp().center([30,7.5]).scale(d(i)*3.3).translate([d(i)/2,d(o)/2]))}),$r(()=>(d(a),d(v),d(h),d(y),d(e),d(c)),()=>{if(d(a)){const q=["POC","IDP","Other"];U(v,Ni(d(a),H=>H.ADM2,H=>H.poc).map(([H,V])=>[H,V.sort((Tt,Rt)=>q.indexOf(Tt[0])-q.indexOf(Rt[0]))])),U(h,d(v).flatMap(([H,V])=>{const Tt=V.length;return V.map(([Rt,ut],pn)=>{const Ln=ut.map(fe=>+fe[d(y)]).filter(fe=>fe&&!isNaN(fe)),Fn=da(Ln),qn=+ut[0].central_latitude,lt=+ut[0].central_longitude,En=d(e)([lt,qn]),Ko=ut[0].environment_type,xi=(pn-(Tt-1)/2)*9,Si=(En==null?void 0:En[0])+xi,Ei=En==null?void 0:En[1];return{adm2:H,poc:Rt,env:Ko,x:Si,y:Ei,meanScore:Fn}})})),d(h).sort((H,V)=>V.meanScore-H.meanScore),U(c,d(a).map(H=>{const V=d(e)([+H.central_longitude,+H.central_latitude]);return{...H,x:V==null?void 0:V[0],y:V==null?void 0:V[1]}})),U(l,Ni(d(c),H=>H.ADM2))}}),$r(()=>d(e),()=>{U(r,sp().projection(d(e)))}),Au(),Fe();var M=ad(),L=J(M),$=W(J(L),2);gt(()=>{d(_),of(()=>{})});var I=J($);I.value=I.__value="poc_idp";var x=W(I);x.value=x.__value="poc";var T=W(x);T.value=T.__value="idp";var G=W(T);G.value=G.__value="oth";var Z=W(G);Z.value=Z.__value="all";var X=W(L,2),Ct=J(X);Ct.textContent="Safety";var wt=W(Ct,2);Gt(wt,5,()=>R,Ut,(q,H)=>{var V=od(),Tt=J(V);gt(()=>Ht(Tt,(d(H),C(()=>d(H).label)))),wr("click",V,()=>D(d(H).value)),K(q,V)});var Pt=W(X,2),pt=W(Pt,2),Sn=W(pt,2),Wt=J(Sn),Jo=J(Wt);{var Bl=q=>{Vp(q,{get polygon_data(){return d(f)},get geo_data(){return d(s)},get pathGenerator(){return d(r)}})};mn(Jo,q=>{d(f)&&d(s)&&q(Bl)})}var Ul=W(Jo);{var Gl=q=>{var H=Qn(),V=bt(H);{var Tt=ut=>{Wp(ut,{get aggregatedLocations(){return d(h)},get heightScale(){return w},get colorScale(){return m},get spike(){return Li},get angledSpike(){return Fi},get indy_locs(){return d(l)}})},Rt=ut=>{var pn=Qn(),Ln=bt(pn);{var Fn=lt=>{id(lt,{get test(){return d(N)},get indy_locs(){return d(l)}})},qn=lt=>{Yp(lt,{get aggregatedLocations(){return d(h)},get heightScale(){return w},get colorScale(){return m},get spike(){return Li},get angledSpike(){return Fi},get indy_locs(){return d(l)}})};mn(Ln,lt=>{d(y)=="test"?lt(Fn):lt(qn,!1)},!0)}K(ut,pn)};mn(V,ut=>{d(y)=="Sec_Gunshots_Now_N"?ut(Tt):ut(Rt,!1)})}K(q,H)};mn(Ul,q=>{d(i)&&d(o)&&d(h)&&q(Gl)})}var Xl=W(Wt,2);jp(Xl,{get aggregatedLocations(){return d(h)},get colorScale(){return m},get height(){return d(o)},get width(){return d(i)},get current_mean(){return d(y)},get heightScale(){return w},get spike(){return Li},get angledSpike(){return Fi}}),gt(()=>{P(Wt,"width",d(i)),P(Wt,"height",d(o))}),xf($,()=>d(_),q=>U(_,q)),wr("change",$,()=>S(d(_))),wr("click",Pt,b),wr("click",pt,A),ha(Sn,"clientWidth",q=>U(i,q)),ha(Sn,"clientHeight",q=>U(o,q)),K(t,M),ue()}df(ud,{target:document.getElementById("app")});
